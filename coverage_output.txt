============================= test session starts ==============================
platform linux -- Python 3.12.3, pytest-8.4.2, pluggy-1.6.0
rootdir: /home/yiannislinux/mcp-context-forge
configfile: pyproject.toml
plugins: cov-7.0.0, trio-0.8.0, asyncio-1.3.0, integration-mark-0.2.0, rerunfailures-16.1, anyio-4.12.1, env-1.2.0, examples-0.0.18, respx-0.22.0, locust-2.43.1, md-report-0.7.0, httpx-0.35.0, hypothesis-6.151.2, xdist-3.8.0, timeout-2.4.0
asyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function
created: 8/8 workers
8 workers [1193 items]

.........................................................s..s..s........ [  6%]
........................................................................ [ 12%]
................................................s....................... [ 18%]
......................................................sss............... [ 24%]
.......s....s.................................s......................... [ 30%]
........................................................................ [ 36%]
........................................................................ [ 42%]
........................................................................ [ 48%]
..........................................................ssss.ssss..... [ 54%]
.............ssss...................................ss.ss............... [ 60%]
..ssssssssssssssssssssss................................................ [ 66%]
........................................................................ [ 72%]
......................................................s................. [ 78%]
.......................................s...........s.s.................. [ 84%]
........................................................................ [ 90%]
........................................................................ [ 96%]
.......................................RF.                               [100%]
=================================== FAILURES ===================================
___ [doctest] builder.python_deploy.MCPStackPython._detect_container_engine ____
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
361             >>> from mcpgateway.tools.builder.schema import MCPStackConfig, DeploymentConfig, GatewayConfig
362             >>> deployer = MCPStackPython(verbose=False)
363
364             >>> # Test with docker specified
365             >>> config = MCPStackConfig(
366             ...     deployment=DeploymentConfig(type="compose", container_engine="docker"),
367             ...     gateway=GatewayConfig(image="test:latest"),
368             ...     plugins=[]
369             ... )
370             >>> result = deployer._detect_container_engine(config)
UNEXPECTED EXCEPTION: RuntimeError('Unable to find specified container engine: docker')
Traceback (most recent call last):
  File "/usr/lib/python3.12/doctest.py", line 1361, in __run
    exec(compile(example.source, filename, "single",
  File "<doctest builder.python_deploy.MCPStackPython._detect_container_engine[3]>", line 1, in <module>
  File "/home/yiannislinux/mcp-context-forge/mcpgateway/tools/builder/python_deploy.py", line 402, in _detect_container_engine
    raise RuntimeError(f"Unable to find specified container engine: {engine}")
RuntimeError: Unable to find specified container engine: docker
/home/yiannislinux/mcp-context-forge/mcpgateway/tools/builder/python_deploy.py:370: UnexpectedException
==================================== PASSES ====================================
___________________ [doctest] mcpgateway.admin._admin_logout ___________________
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.admin] Admin user logging out (method: POST)
INFO  [mcpgateway.admin] Admin user logging out (method: GET)
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.admin:admin.py:3764 Admin user logging out (method: POST)
INFO     mcpgateway.admin:admin.py:3764 Admin user logging out (method: GET)
_______________ [doctest] mcpgateway.admin.admin_delete_gateway ________________
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.admin] Error deleting gateway: Deletion failed
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.admin:admin.py:10889 Error deleting gateway: Deletion failed
__________________ [doctest] mcpgateway.admin.admin_add_tool ___________________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.utils.error_formatter] Database error: (builtins.NoneType) None
[SQL: Mock Integrity Error]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
ERROR [mcpgateway.admin] IntegrityError in admin_add_tool: {'message': 'Unable to complete the operation. Please try again.', 'success': False}
ERROR [mcpgateway.admin] ValidationError in admin_add_tool: 1 validation error for ToolCreate
name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/string_type
ERROR [mcpgateway.admin] Unexpected error in admin_add_tool: Unexpected error
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.utils.error_formatter:error_formatter.py:295 Database error: (builtins.NoneType) None
[SQL: Mock Integrity Error]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
ERROR    mcpgateway.admin:admin.py:9592 IntegrityError in admin_add_tool: {'message': 'Unable to complete the operation. Please try again.', 'success': False}
ERROR    mcpgateway.admin:admin.py:9600 ValidationError in admin_add_tool: 1 validation error for ToolCreate
name
  Input should be a valid string [type=string_type, input_value=None, input_type=NoneType]
    For further information visit https://errors.pydantic.dev/2.12/v/string_type
ERROR    mcpgateway.admin:admin.py:9603 Unexpected error in admin_add_tool: Unexpected error
________________ [doctest] mcpgateway.admin.admin_delete_prompt ________________
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.admin] User test_user is deleting prompt id test-prompt
INFO  [mcpgateway.admin] User test_user is deleting prompt id test-prompt
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.admin:admin.py:12006 User test_user is deleting prompt id test-prompt
INFO     mcpgateway.admin:admin.py:12006 User test_user is deleting prompt id test-prompt
________________ [doctest] mcpgateway.admin.admin_delete_server ________________
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.admin] Error deleting server: Deletion failed
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.admin:admin.py:2507 Error deleting server: Deletion failed
_________________ [doctest] mcpgateway.admin.admin_add_gateway _________________
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.admin] DEBUG: oauth_config_json from form = 'None'
INFO  [mcpgateway.admin] DEBUG: Individual OAuth fields - grant_type='None', issuer='None'
INFO  [mcpgateway.admin] DEBUG: auth_type from form: 'basic', oauth_config present: False
INFO  [mcpgateway.admin] DEBUG: oauth_config_json from form = 'None'
INFO  [mcpgateway.admin] DEBUG: Individual OAuth fields - grant_type='None', issuer='None'
INFO  [mcpgateway.admin] DEBUG: auth_type from form: 'bearer', oauth_config present: False
INFO  [mcpgateway.admin] DEBUG: oauth_config_json from form = 'None'
INFO  [mcpgateway.admin] DEBUG: Individual OAuth fields - grant_type='None', issuer='None'
INFO  [mcpgateway.admin] DEBUG: auth_type from form: 'headers', oauth_config present: False
INFO  [mcpgateway.admin] DEBUG: oauth_config_json from form = 'None'
INFO  [mcpgateway.admin] DEBUG: Individual OAuth fields - grant_type='None', issuer='None'
INFO  [mcpgateway.admin] DEBUG: auth_type from form: 'basic', oauth_config present: False
ERROR [mcpgateway.utils.error_formatter] Database error: (builtins.dict) {}
[SQL: Duplicate entry]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
INFO  [mcpgateway.admin] DEBUG: oauth_config_json from form = 'None'
INFO  [mcpgateway.admin] DEBUG: Individual OAuth fields - grant_type='None', issuer='None'
INFO  [mcpgateway.admin] DEBUG: auth_type from form: 'basic', oauth_config present: False
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.admin:admin.py:10328 DEBUG: oauth_config_json from form = 'None'
INFO     mcpgateway.admin:admin.py:10329 DEBUG: Individual OAuth fields - grant_type='None', issuer='None'
INFO     mcpgateway.admin:admin.py:10407 DEBUG: auth_type from form: 'basic', oauth_config present: False
INFO     mcpgateway.admin:admin.py:10328 DEBUG: oauth_config_json from form = 'None'
INFO     mcpgateway.admin:admin.py:10329 DEBUG: Individual OAuth fields - grant_type='None', issuer='None'
INFO     mcpgateway.admin:admin.py:10407 DEBUG: auth_type from form: 'bearer', oauth_config present: False
INFO     mcpgateway.admin:admin.py:10328 DEBUG: oauth_config_json from form = 'None'
INFO     mcpgateway.admin:admin.py:10329 DEBUG: Individual OAuth fields - grant_type='None', issuer='None'
INFO     mcpgateway.admin:admin.py:10407 DEBUG: auth_type from form: 'headers', oauth_config present: False
INFO     mcpgateway.admin:admin.py:10328 DEBUG: oauth_config_json from form = 'None'
INFO     mcpgateway.admin:admin.py:10329 DEBUG: Individual OAuth fields - grant_type='None', issuer='None'
INFO     mcpgateway.admin:admin.py:10407 DEBUG: auth_type from form: 'basic', oauth_config present: False
ERROR    mcpgateway.utils.error_formatter:error_formatter.py:295 Database error: (builtins.dict) {}
[SQL: Duplicate entry]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
INFO     mcpgateway.admin:admin.py:10328 DEBUG: oauth_config_json from form = 'None'
INFO     mcpgateway.admin:admin.py:10329 DEBUG: Individual OAuth fields - grant_type='None', issuer='None'
INFO     mcpgateway.admin:admin.py:10407 DEBUG: auth_type from form: 'basic', oauth_config present: False
_________________ [doctest] mcpgateway.admin.admin_delete_tool _________________
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.admin] Error deleting tool: Deletion failed
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.admin:admin.py:9963 Error deleting tool: Deletion failed
_________________ [doctest] mcpgateway.admin.admin_edit_prompt _________________
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.admin] befor Verifying team for user test_user with team_id None
INFO  [mcpgateway.admin] Verifying team for user test_user with team_id None
INFO  [mcpgateway.admin] befor Verifying team for user test_user with team_id None
INFO  [mcpgateway.admin] Verifying team for user test_user with team_id None
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.admin:admin.py:11892 befor Verifying team for user test_user with team_id None
INFO     mcpgateway.admin:admin.py:11895 Verifying team for user test_user with team_id None
INFO     mcpgateway.admin:admin.py:11892 befor Verifying team for user test_user with team_id None
INFO     mcpgateway.admin:admin.py:11895 Verifying team for user test_user with team_id None
__________________ [doctest] mcpgateway.admin.admin_get_agent __________________
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.admin] Error getting agent test-agent-id: Generic error
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.admin:admin.py:14118 Error getting agent test-agent-id: Generic error
_________________ [doctest] mcpgateway.admin.admin_get_gateway _________________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.admin] Error getting gateway test-gateway-id: Generic error
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.admin:admin.py:10193 Error getting gateway test-gateway-id: Generic error
_________________ [doctest] mcpgateway.admin.admin_edit_server _________________
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.utils.error_formatter] Database error: (builtins.NoneType) None
[SQL: Integrity error]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.utils.error_formatter:error_formatter.py:295 Database error: (builtins.NoneType) None
[SQL: Integrity error]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
__________________ [doctest] mcpgateway.admin.admin_get_tool ___________________
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.admin] Error getting tool test-tool-id: Generic error
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.admin:admin.py:9378 Error getting tool test-tool-id: Generic error
________________ [doctest] mcpgateway.admin.admin_edit_resource ________________
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.admin] Form data received for resource edit: FormData([('name', 'Updated Resource'), ('description', 'Updated description'), ('mimeType', 'text/plain'), ('content', 'Updated content')])
INFO  [mcpgateway.admin] ResourceUpdate object created: uri='' name='Updated Resource' description='Updated description' mime_type='text/plain' uri_template=None content='Updated content' tags=[] team_id=None owner_email=None visibility='private'
INFO  [mcpgateway.admin] Form data received for resource edit: FormData([('name', 'Updated Resource'), ('description', 'Updated description'), ('mimeType', 'text/plain'), ('content', 'Updated content')])
INFO  [mcpgateway.admin] ResourceUpdate object created: uri='' name='Updated Resource' description='Updated description' mime_type='text/plain' uri_template=None content='Updated content' tags=[] team_id=None owner_email=None visibility='private'
ERROR [mcpgateway.admin] ValidationError in admin_edit_resource: {'message': 'Validation failed: Invalid name', 'details': [{'field': 'name', 'message': 'Invalid name'}], 'success': False}
INFO  [mcpgateway.admin] Form data received for resource edit: FormData([('name', 'Updated Resource'), ('description', 'Updated description'), ('mimeType', 'text/plain'), ('content', 'Updated content')])
INFO  [mcpgateway.admin] ResourceUpdate object created: uri='' name='Updated Resource' description='Updated description' mime_type='text/plain' uri_template=None content='Updated content' tags=[] team_id=None owner_email=None visibility='private'
ERROR [mcpgateway.utils.error_formatter] Database error: (builtins.NoneType) None
[SQL: Duplicate entry]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
ERROR [mcpgateway.admin] IntegrityError in admin_edit_resource: {'message': 'Unable to complete the operation. Please try again.', 'success': False}
INFO  [mcpgateway.admin] Form data received for resource edit: FormData([('name', 'Updated Resource'), ('description', 'Updated description'), ('mimeType', 'text/plain'), ('content', 'Updated content')])
INFO  [mcpgateway.admin] ResourceUpdate object created: uri='' name='Updated Resource' description='Updated description' mime_type='text/plain' uri_template=None content='Updated content' tags=[] team_id=None owner_email=None visibility='private'
ERROR [mcpgateway.admin] Error in admin_edit_resource: Unknown error
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.admin:admin.py:11329 Form data received for resource edit: FormData([('name', 'Updated Resource'), ('description', 'Updated description'), ('mimeType', 'text/plain'), ('content', 'Updated content')])
INFO     mcpgateway.admin:admin.py:11347 ResourceUpdate object created: uri='' name='Updated Resource' description='Updated description' mime_type='text/plain' uri_template=None content='Updated content' tags=[] team_id=None owner_email=None visibility='private'
INFO     mcpgateway.admin:admin.py:11329 Form data received for resource edit: FormData([('name', 'Updated Resource'), ('description', 'Updated description'), ('mimeType', 'text/plain'), ('content', 'Updated content')])
INFO     mcpgateway.admin:admin.py:11347 ResourceUpdate object created: uri='' name='Updated Resource' description='Updated description' mime_type='text/plain' uri_template=None content='Updated content' tags=[] team_id=None owner_email=None visibility='private'
ERROR    mcpgateway.admin:admin.py:11367 ValidationError in admin_edit_resource: {'message': 'Validation failed: Invalid name', 'details': [{'field': 'name', 'message': 'Invalid name'}], 'success': False}
INFO     mcpgateway.admin:admin.py:11329 Form data received for resource edit: FormData([('name', 'Updated Resource'), ('description', 'Updated description'), ('mimeType', 'text/plain'), ('content', 'Updated content')])
INFO     mcpgateway.admin:admin.py:11347 ResourceUpdate object created: uri='' name='Updated Resource' description='Updated description' mime_type='text/plain' uri_template=None content='Updated content' tags=[] team_id=None owner_email=None visibility='private'
ERROR    mcpgateway.utils.error_formatter:error_formatter.py:295 Database error: (builtins.NoneType) None
[SQL: Duplicate entry]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
ERROR    mcpgateway.admin:admin.py:11371 IntegrityError in admin_edit_resource: {'message': 'Unable to complete the operation. Please try again.', 'success': False}
INFO     mcpgateway.admin:admin.py:11329 Form data received for resource edit: FormData([('name', 'Updated Resource'), ('description', 'Updated description'), ('mimeType', 'text/plain'), ('content', 'Updated content')])
INFO     mcpgateway.admin:admin.py:11347 ResourceUpdate object created: uri='' name='Updated Resource' description='Updated description' mime_type='text/plain' uri_template=None content='Updated content' tags=[] team_id=None owner_email=None visibility='private'
ERROR    mcpgateway.admin:admin.py:11376 Error in admin_edit_resource: Unknown error
__________________ [doctest] mcpgateway.admin.admin_edit_tool __________________
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.admin] before Verifying team for user test_user with team_id None
INFO  [mcpgateway.admin] before Verifying team for user test_user with team_id None
INFO  [mcpgateway.admin] before Verifying team for user test_user with team_id None
ERROR [mcpgateway.utils.error_formatter] Database error: (builtins.NoneType) None
[SQL: Conflict]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
ERROR [mcpgateway.admin] IntegrityError in admin_tool_resource: {'message': 'Unable to complete the operation. Please try again.', 'success': False}
INFO  [mcpgateway.admin] before Verifying team for user test_user with team_id None
ERROR [mcpgateway.admin] ToolError in admin_edit_tool: Tool specific error
INFO  [mcpgateway.admin] before Verifying team for user test_user with team_id None
ERROR [mcpgateway.admin] ValidationError in admin_edit_tool: 2 validation errors for ToolUpdate
url
  Value error, Tool URL must start with one of: http://, https://, ws://, wss:// [type=value_error, input_value='not-a-valid-url', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/value_error
base_url
  Value error, base_url must be a valid URL with scheme and netloc [type=value_error, input_value='://', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/value_error
INFO  [mcpgateway.admin] before Verifying team for user test_user with team_id None
ERROR [mcpgateway.admin] Unexpected error in admin_edit_tool: Unexpected server crash
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.admin:admin.py:9796 before Verifying team for user test_user with team_id None
INFO     mcpgateway.admin:admin.py:9796 before Verifying team for user test_user with team_id None
INFO     mcpgateway.admin:admin.py:9796 before Verifying team for user test_user with team_id None
ERROR    mcpgateway.utils.error_formatter:error_formatter.py:295 Database error: (builtins.NoneType) None
[SQL: Conflict]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
ERROR    mcpgateway.admin:admin.py:9863 IntegrityError in admin_tool_resource: {'message': 'Unable to complete the operation. Please try again.', 'success': False}
INFO     mcpgateway.admin:admin.py:9796 before Verifying team for user test_user with team_id None
ERROR    mcpgateway.admin:admin.py:9869 ToolError in admin_edit_tool: Tool specific error
INFO     mcpgateway.admin:admin.py:9796 before Verifying team for user test_user with team_id None
ERROR    mcpgateway.admin:admin.py:9872 ValidationError in admin_edit_tool: 2 validation errors for ToolUpdate
url
  Value error, Tool URL must start with one of: http://, https://, ws://, wss:// [type=value_error, input_value='not-a-valid-url', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/value_error
base_url
  Value error, base_url must be a valid URL with scheme and netloc [type=value_error, input_value='://', input_type=str]
    For further information visit https://errors.pydantic.dev/2.12/v/value_error
INFO     mcpgateway.admin:admin.py:9796 before Verifying team for user test_user with team_id None
ERROR    mcpgateway.admin:admin.py:9875 Unexpected error in admin_edit_tool: Unexpected server crash
_________________ [doctest] mcpgateway.admin.admin_get_prompt __________________
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.admin] User test_user requested details for prompt ID test-prompt
INFO  [mcpgateway.admin] User test_user requested details for prompt ID nonexistent
INFO  [mcpgateway.admin] User test_user requested details for prompt ID test-prompt
ERROR [mcpgateway.admin] Error getting prompt test-prompt: Generic error
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.admin:admin.py:11686 User test_user requested details for prompt ID test-prompt
INFO     mcpgateway.admin:admin.py:11686 User test_user requested details for prompt ID nonexistent
INFO     mcpgateway.admin:admin.py:11686 User test_user requested details for prompt ID test-prompt
ERROR    mcpgateway.admin:admin.py:11694 Error getting prompt test-prompt: Generic error
________________ [doctest] mcpgateway.admin.admin_get_resource _________________
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.admin] Error getting resource 1: Unexpected error
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.admin:admin.py:11097 Error getting resource 1: Unexpected error
______________ [doctest] mcpgateway.admin.admin_set_gateway_state ______________
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.admin] Error setting gateway state: State change failed
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.admin:admin.py:2898 Error setting gateway state: State change failed
________________ [doctest] mcpgateway.admin.admin_login_handler ________________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
INFO  [mcpgateway.services.email_auth_service] Authentication failed for admin@example.com: account locked
WARNI [mcpgateway.admin] Authentication failed for admin@example.com - user is None
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
INFO     mcpgateway.services.email_auth_service:email_auth_service.py:430 Authentication failed for admin@example.com: account locked
WARNING  mcpgateway.admin:admin.py:3635 Authentication failed for admin@example.com - user is None
______________ [doctest] mcpgateway.admin.admin_set_server_state _______________
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.admin] Error setting server status: State change failed
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.admin:admin.py:2407 Error setting server status: State change failed
_____________ [doctest] mcpgateway.admin.admin_set_resource_state ______________
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.admin] Error setting resource state: Test error
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.admin:admin.py:11577 Error setting resource state: Test error
______________ [doctest] mcpgateway.admin.admin_set_prompt_state _______________
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.admin] Error setting prompt state: Test error
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.admin:admin.py:12138 Error setting prompt state: Test error
_______________ [doctest] mcpgateway.admin.admin_set_tool_state ________________
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.admin] Error setting tool state: State change failed
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.admin:admin.py:10092 Error setting tool state: State change failed
________________ [doctest] mcpgateway.admin.admin_test_resource ________________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.admin] Error getting resource for resource://example/demo: Boom
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.admin:admin.py:10998 Error getting resource for resource://example/demo: Boom
________________ [doctest] mcpgateway.admin.admin_test_gateway _________________
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
WARNI [mcpgateway.admin] Gateway test failed: Network error
ERROR [mcpgateway.services.structured_logger] [gateway_service] Gateway test failed: https://api.example.com/
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.admin:admin.py:12744 Gateway test failed: Network error
ERROR    mcpgateway.services.structured_logger:structured_logger.py:197 [gateway_service] Gateway test failed: https://api.example.com/
_____________________ [doctest] mcpgateway.admin.admin_ui ______________________
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.utils.redis_client] Redis disabled (cache_type != 'redis' or no redis_url)
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.utils.redis_client:redis_client.py:121 Redis disabled (cache_type != 'redis' or no redis_url)
__________________ [doctest] mcpgateway.cache.a2a_stats_cache __________________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.a2a_stats_cache] A2A stats cache invalidated
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.a2a_stats_cache:a2a_stats_cache.py:201 A2A stats cache invalidated
_____ [doctest] mcpgateway.cache.a2a_stats_cache.A2AStatsCache.invalidate ______
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.a2a_stats_cache] A2A stats cache invalidated
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.a2a_stats_cache:a2a_stats_cache.py:201 A2A stats cache invalidated
_________ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache _________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache._get_redis_key __
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
____ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.__init__ _____
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=120s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=120s, observability_ttl=30s, tags_ttl=120s
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.get_observability_stats _
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
INFO  [mcpgateway.utils.redis_client] Redis disabled (cache_type != 'redis' or no redis_url)
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
INFO     mcpgateway.utils.redis_client:redis_client.py:121 Redis disabled (cache_type != 'redis' or no redis_url)
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.get_performance_history _
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
INFO  [mcpgateway.utils.redis_client] Redis disabled (cache_type != 'redis' or no redis_url)
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
INFO     mcpgateway.utils.redis_client:redis_client.py:121 Redis disabled (cache_type != 'redis' or no redis_url)
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.get_plugin_stats _
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
INFO  [mcpgateway.utils.redis_client] Redis disabled (cache_type != 'redis' or no redis_url)
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
INFO     mcpgateway.utils.redis_client:redis_client.py:121 Redis disabled (cache_type != 'redis' or no redis_url)
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.get_system_stats _
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
INFO  [mcpgateway.utils.redis_client] Redis disabled (cache_type != 'redis' or no redis_url)
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
INFO     mcpgateway.utils.redis_client:redis_client.py:121 Redis disabled (cache_type != 'redis' or no redis_url)
____ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.get_tags _____
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
INFO  [mcpgateway.utils.redis_client] Redis disabled (cache_type != 'redis' or no redis_url)
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
INFO     mcpgateway.utils.redis_client:redis_client.py:121 Redis disabled (cache_type != 'redis' or no redis_url)
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.get_teams_list __
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.get_users_list __
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
INFO  [mcpgateway.utils.redis_client] Redis disabled (cache_type != 'redis' or no redis_url)
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
INFO     mcpgateway.utils.redis_client:redis_client.py:121 Redis disabled (cache_type != 'redis' or no redis_url)
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_all __
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache: All caches invalidated
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:850 AdminStatsCache: All caches invalidated
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_observability_stats _
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_performance _
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_plugins _
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_system_stats _
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_tags _
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_teams _
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_users _
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
___ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.reset_stats ___
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.set_observability_stats _
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.set_performance_history _
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.set_plugin_stats _
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.set_system_stats _
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
____ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.set_tags _____
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.set_teams_list __
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
_ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.set_users_list __
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
______ [doctest] mcpgateway.cache.admin_stats_cache.AdminStatsCache.stats ______
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.admin_stats_cache] AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.admin_stats_cache:admin_stats_cache.py:144 AdminStatsCache initialized: enabled=True, system_ttl=60s, observability_ttl=30s, tags_ttl=120s
_______________ [doctest] mcpgateway.cache.auth_cache.AuthCache ________________
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
___________ [doctest] mcpgateway.cache.auth_cache.AuthCache.__init__ ___________
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=120s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=120s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
________ [doctest] mcpgateway.cache.auth_cache.AuthCache._get_redis_key ________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
_______ [doctest] mcpgateway.cache.auth_cache.AuthCache.get_auth_context _______
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
__ [doctest] mcpgateway.cache.auth_cache.AuthCache.get_team_membership_valid ___
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
INFO  [mcpgateway.utils.redis_client] Redis disabled (cache_type != 'redis' or no redis_url)
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
INFO     mcpgateway.utils.redis_client:redis_client.py:121 Redis disabled (cache_type != 'redis' or no redis_url)
_ [doctest] mcpgateway.cache.auth_cache.AuthCache.get_team_membership_valid_sync _
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
________ [doctest] mcpgateway.cache.auth_cache.AuthCache.get_user_role _________
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
________ [doctest] mcpgateway.cache.auth_cache.AuthCache.get_user_teams ________
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
________ [doctest] mcpgateway.cache.auth_cache.AuthCache.invalidate_all ________
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
INFO  [mcpgateway.cache.auth_cache] AuthCache: All caches invalidated
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
INFO     mcpgateway.cache.auth_cache:auth_cache.py:1135 AuthCache: All caches invalidated
____ [doctest] mcpgateway.cache.auth_cache.AuthCache.invalidate_revocation _____
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
__ [doctest] mcpgateway.cache.auth_cache.AuthCache.invalidate_team_membership __
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
_______ [doctest] mcpgateway.cache.auth_cache.AuthCache.invalidate_team ________
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
____ [doctest] mcpgateway.cache.auth_cache.AuthCache.invalidate_team_roles _____
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
_____ [doctest] mcpgateway.cache.auth_cache.AuthCache.invalidate_user_role _____
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
_______ [doctest] mcpgateway.cache.auth_cache.AuthCache.invalidate_user ________
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
____ [doctest] mcpgateway.cache.auth_cache.AuthCache.invalidate_user_teams _____
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
_______ [doctest] mcpgateway.cache.auth_cache.AuthCache.is_token_revoked _______
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
_________ [doctest] mcpgateway.cache.auth_cache.AuthCache.reset_stats __________
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
_______ [doctest] mcpgateway.cache.auth_cache.AuthCache.set_auth_context _______
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
__ [doctest] mcpgateway.cache.auth_cache.AuthCache.set_team_membership_valid ___
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
_ [doctest] mcpgateway.cache.auth_cache.AuthCache.set_team_membership_valid_sync _
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
________ [doctest] mcpgateway.cache.auth_cache.AuthCache.set_user_teams ________
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
________ [doctest] mcpgateway.cache.auth_cache.AuthCache.set_user_role _________
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
____________ [doctest] mcpgateway.cache.auth_cache.AuthCache.stats _____________
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
_____ [doctest] mcpgateway.cache.auth_cache.AuthCache.sync_revoked_tokens ______
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.auth_cache] AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
WARNI [mcpgateway.db] Connection error during execute, auto-rolling back session: OperationalError
WARNI [mcpgateway.cache.auth_cache] AuthCache sync_revoked_tokens failed: (sqlite3.OperationalError) no such table: token_revocations
[SQL: SELECT token_revocations.jti
FROM token_revocations]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.auth_cache:auth_cache.py:190 AuthCache initialized: enabled=True, user_ttl=60s, revocation_ttl=30s, team_ttl=60s, role_ttl=60s, teams_list_enabled=True, teams_list_ttl=60s
WARNING  mcpgateway.db:db.py:385 Connection error during execute, auto-rolling back session: OperationalError
WARNING  mcpgateway.cache.auth_cache:auth_cache.py:1115 AuthCache sync_revoked_tokens failed: (sqlite3.OperationalError) no such table: token_revocations
[SQL: SELECT token_revocations.jti
FROM token_revocations]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
________________ [doctest] mcpgateway.cache.global_config_cache ________________
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.global_config_cache] GlobalConfig cache invalidated
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.global_config_cache:global_config_cache.py:261 GlobalConfig cache invalidated
_ [doctest] mcpgateway.cache.global_config_cache.GlobalConfigCache.invalidate __
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.global_config_cache] GlobalConfig cache invalidated
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.global_config_cache:global_config_cache.py:261 GlobalConfig cache invalidated
_ [doctest] mcpgateway.cache.global_config_cache.GlobalConfigCache.get_passthrough_headers _
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.global_config_cache] GlobalConfig cache invalidated
INFO  [mcpgateway.cache.global_config_cache] GlobalConfig cache invalidated
INFO  [mcpgateway.cache.global_config_cache] GlobalConfig cache invalidated
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.global_config_cache:global_config_cache.py:261 GlobalConfig cache invalidated
INFO     mcpgateway.cache.global_config_cache:global_config_cache.py:261 GlobalConfig cache invalidated
INFO     mcpgateway.cache.global_config_cache:global_config_cache.py:261 GlobalConfig cache invalidated
___________ [doctest] mcpgateway.cache.registry_cache.RegistryCache ____________
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
____ [doctest] mcpgateway.cache.registry_cache.RegistryCache._get_redis_key ____
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
_______ [doctest] mcpgateway.cache.registry_cache.RegistryCache.__init__ _______
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
_________ [doctest] mcpgateway.cache.registry_cache.RegistryCache.get __________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
_____ [doctest] mcpgateway.cache.registry_cache.RegistryCache.hash_filters _____
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
______ [doctest] mcpgateway.cache.registry_cache.RegistryCache.invalidate ______
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
__ [doctest] mcpgateway.cache.registry_cache.RegistryCache.invalidate_agents ___
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
____ [doctest] mcpgateway.cache.registry_cache.RegistryCache.invalidate_all ____
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
INFO  [mcpgateway.cache.registry_cache] RegistryCache: All caches invalidated
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
INFO     mcpgateway.cache.registry_cache:registry_cache.py:455 RegistryCache: All caches invalidated
__ [doctest] mcpgateway.cache.registry_cache.RegistryCache.invalidate_catalog __
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
_ [doctest] mcpgateway.cache.registry_cache.RegistryCache.invalidate_gateways __
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
__ [doctest] mcpgateway.cache.registry_cache.RegistryCache.invalidate_prompts __
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
_ [doctest] mcpgateway.cache.registry_cache.RegistryCache.invalidate_resources _
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
__ [doctest] mcpgateway.cache.registry_cache.RegistryCache.invalidate_servers __
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
_____ [doctest] mcpgateway.cache.registry_cache.RegistryCache.reset_stats ______
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
___ [doctest] mcpgateway.cache.registry_cache.RegistryCache.invalidate_tools ___
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
________ [doctest] mcpgateway.cache.registry_cache.RegistryCache.stats _________
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
_________ [doctest] mcpgateway.cache.registry_cache.RegistryCache.set __________
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.registry_cache] RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.registry_cache:registry_cache.py:179 RegistryCache initialized: enabled=True, tools_ttl=20s, prompts_ttl=15s, resources_ttl=15s, agents_ttl=20s, catalog_ttl=300s
_________________ [doctest] mcpgateway.cache.session_registry __________________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.session_registry] Added session: sid123
INFO  [mcpgateway.cache.session_registry] Session sid123 exists in local cache
INFO  [mcpgateway.cache.session_registry] Removed session: sid123
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.session_registry:session_registry.py:690 Added session: sid123
INFO     mcpgateway.cache.session_registry:session_registry.py:734 Session sid123 exists in local cache
INFO     mcpgateway.cache.session_registry:session_registry.py:899 Removed session: sid123
_________ [doctest] mcpgateway.cache.session_registry.SessionRegistry __________
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.session_registry] Added session: test123
INFO  [mcpgateway.cache.session_registry] Session test123 exists in local cache
INFO  [mcpgateway.cache.session_registry] Removed session: test123
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.session_registry:session_registry.py:690 Added session: test123
INFO     mcpgateway.cache.session_registry:session_registry.py:734 Session test123 exists in local cache
INFO     mcpgateway.cache.session_registry:session_registry.py:899 Removed session: test123
___ [doctest] mcpgateway.cache.session_registry.SessionRegistry.add_session ____
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.session_registry] Added session: test-456
INFO  [mcpgateway.cache.session_registry] Session test-456 exists in local cache
INFO  [mcpgateway.cache.session_registry] Removed session: test-456
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.session_registry:session_registry.py:690 Added session: test-456
INFO     mcpgateway.cache.session_registry:session_registry.py:734 Session test-456 exists in local cache
INFO     mcpgateway.cache.session_registry:session_registry.py:899 Removed session: test-456
___ [doctest] mcpgateway.cache.session_registry.SessionRegistry.get_session ____
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.session_registry] Added session: test-456
INFO  [mcpgateway.cache.session_registry] Session test-456 exists in local cache
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.session_registry:session_registry.py:690 Added session: test-456
INFO     mcpgateway.cache.session_registry:session_registry.py:734 Session test-456 exists in local cache
_ [doctest] mcpgateway.cache.session_registry.SessionRegistry.get_session_sync _
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.session_registry] Added session: sync-test
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.session_registry:session_registry.py:690 Added session: sync-test
____ [doctest] mcpgateway.cache.session_registry.SessionRegistry.initialize ____
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.session_registry] Initializing session registry with backend: memory
INFO  [mcpgateway.cache.session_registry] Memory cleanup task started
INFO  [mcpgateway.cache.session_registry] Stuck task reaper started
INFO  [mcpgateway.cache.session_registry] Starting memory cleanup task
INFO  [mcpgateway.cache.session_registry] Memory cleanup task cancelled
INFO  [mcpgateway.cache.session_registry] Shutting down session registry
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.session_registry:session_registry.py:486 Initializing session registry with backend: memory
INFO     mcpgateway.cache.session_registry:session_registry.py:508 Memory cleanup task started
INFO     mcpgateway.cache.session_registry:session_registry.py:512 Stuck task reaper started
INFO     mcpgateway.cache.session_registry:session_registry.py:1600 Starting memory cleanup task
INFO     mcpgateway.cache.session_registry:session_registry.py:1619 Memory cleanup task cancelled
INFO     mcpgateway.cache.session_registry:session_registry.py:530 Shutting down session registry
__ [doctest] mcpgateway.cache.session_registry.SessionRegistry.remove_session __
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.session_registry] Added session: remove-test
INFO  [mcpgateway.cache.session_registry] Removed session: remove-test
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.session_registry:session_registry.py:690 Added session: remove-test
INFO     mcpgateway.cache.session_registry:session_registry.py:899 Removed session: remove-test
_____ [doctest] mcpgateway.cache.session_registry.SessionRegistry.shutdown _____
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.session_registry] Initializing session registry with backend: memory
INFO  [mcpgateway.cache.session_registry] Memory cleanup task started
INFO  [mcpgateway.cache.session_registry] Stuck task reaper started
INFO  [mcpgateway.cache.session_registry] Starting memory cleanup task
INFO  [mcpgateway.cache.session_registry] Memory cleanup task cancelled
INFO  [mcpgateway.cache.session_registry] Shutting down session registry
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.session_registry:session_registry.py:486 Initializing session registry with backend: memory
INFO     mcpgateway.cache.session_registry:session_registry.py:508 Memory cleanup task started
INFO     mcpgateway.cache.session_registry:session_registry.py:512 Stuck task reaper started
INFO     mcpgateway.cache.session_registry:session_registry.py:1600 Starting memory cleanup task
INFO     mcpgateway.cache.session_registry:session_registry.py:1619 Memory cleanup task cancelled
INFO     mcpgateway.cache.session_registry:session_registry.py:530 Shutting down session registry
_______________ [doctest] mcpgateway.cli._handle_validate_config _______________
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
____ [doctest] mcpgateway.common.validators.SecurityValidator.validate_uuid ____
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.common.validators] Invalid UUID format for UUID: invalid-uuid
ERROR [mcpgateway.common.validators] Invalid UUID format for UUID: not-a-uuid
ERROR [mcpgateway.common.validators] Invalid UUID format for UUID: 550e8400-e29b-41d4-a716
ERROR [mcpgateway.common.validators] Invalid UUID format for UUID: 550e8400-e29b-41d4-a716-446655440000-extra
ERROR [mcpgateway.common.validators] Invalid UUID format for UUID: gggggggg-gggg-gggg-gggg-gggggggggggg
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.common.validators:validators.py:572 Invalid UUID format for UUID: invalid-uuid
ERROR    mcpgateway.common.validators:validators.py:572 Invalid UUID format for UUID: not-a-uuid
ERROR    mcpgateway.common.validators:validators.py:572 Invalid UUID format for UUID: 550e8400-e29b-41d4-a716
ERROR    mcpgateway.common.validators:validators.py:572 Invalid UUID format for UUID: 550e8400-e29b-41d4-a716-446655440000-extra
ERROR    mcpgateway.common.validators:validators.py:572 Invalid UUID format for UUID: gggggggg-gggg-gggg-gggg-gggggggggggg
___________ [doctest] mcpgateway.config.Settings.must_be_allowed_sep ___________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
WARNI [mcpgateway.config] Invalid gateway_tool_name_separator 'invalid'. Must be '-', '--', '_' or '.'. Defaulting to '-'.
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.config:<doctest mcpgateway.config.Settings.must_be_allowed_sep[4]>:1 Invalid gateway_tool_name_separator 'invalid'. Must be '-', '--', '_' or '.'. Defaulting to '-'.
____________ [doctest] mcpgateway.config.Settings.database_settings ____________
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
______________ [doctest] mcpgateway.config.Settings.cors_settings ______________
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
_________________ [doctest] mcpgateway.config.Settings.api_key _________________
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config]   SECURITY WARNING: Admin password should be at least 8 characters long. Current length: 6
WARNI [mcpgateway.config]  SECURITY WARNING: Admin password has low complexity. Should contain at least 3 of: uppercase, lowercase, digits, special characters
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config]   SECURITY WARNING: Admin password should be at least 8 characters long. Current length: 7
WARNI [mcpgateway.config]  SECURITY WARNING: Admin password has low complexity. Should contain at least 3 of: uppercase, lowercase, digits, special characters
WARNI [mcpgateway.config] Failed to derive public key for private_key
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:672   SECURITY WARNING: Admin password should be at least 8 characters long. Current length: 6
WARNING  mcpgateway.config:config.py:682  SECURITY WARNING: Admin password has low complexity. Should contain at least 3 of: uppercase, lowercase, digits, special characters
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:672   SECURITY WARNING: Admin password should be at least 8 characters long. Current length: 7
WARNING  mcpgateway.config:config.py:682  SECURITY WARNING: Admin password has low complexity. Should contain at least 3 of: uppercase, lowercase, digits, special characters
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
____________________ [doctest] mcpgateway.handlers.sampling ____________________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.handlers.sampling] Initializing sampling handler
INFO  [mcpgateway.handlers.sampling] Shutting down sampling handler
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.handlers.sampling:sampling.py:109 Initializing sampling handler
INFO     mcpgateway.handlers.sampling:sampling.py:121 Shutting down sampling handler
____ [doctest] mcpgateway.handlers.sampling.SamplingHandler.create_message _____
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.handlers.sampling] Selected model: claude-3-haiku
ERROR [mcpgateway.handlers.sampling] Sampling error: No messages provided
ERROR [mcpgateway.handlers.sampling] Sampling error: Max tokens not specified
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.handlers.sampling:sampling.py:210 Selected model: claude-3-haiku
ERROR    mcpgateway.handlers.sampling:sampling.py:234 Sampling error: No messages provided
ERROR    mcpgateway.handlers.sampling:sampling.py:234 Sampling error: Max tokens not specified
_______ [doctest] mcpgateway.handlers.sampling.SamplingHandler.shutdown ________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.handlers.sampling] Initializing sampling handler
INFO  [mcpgateway.handlers.sampling] Shutting down sampling handler
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.handlers.sampling:sampling.py:109 Initializing sampling handler
INFO     mcpgateway.handlers.sampling:sampling.py:121 Shutting down sampling handler
______ [doctest] mcpgateway.handlers.sampling.SamplingHandler.initialize _______
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.handlers.sampling] Initializing sampling handler
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.handlers.sampling:sampling.py:109 Initializing sampling handler
_____________ [doctest] mcpgateway.main.database_exception_handler _____________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.utils.error_formatter] Database error: (builtins.Exception) duplicate key
[SQL: statement]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.utils.error_formatter:error_formatter.py:295 Database error: (builtins.Exception) duplicate key
[SQL: statement]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
___________ [doctest] mcpgateway.config.Settings.supports_websocket ____________
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
____________ [doctest] mcpgateway.config.Settings.validate_database ____________
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
______________ [doctest] mcpgateway.config.Settings.supports_http ______________
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
_________________________ [doctest] mcpgateway.config __________________________
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config]   SECURITY WARNING: Admin password should be at least 8 characters long. Current length: 6
WARNI [mcpgateway.config]  SECURITY WARNING: Admin password has low complexity. Should contain at least 3 of: uppercase, lowercase, digits, special characters
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:672   SECURITY WARNING: Admin password should be at least 8 characters long. Current length: 6
WARNING  mcpgateway.config:config.py:682  SECURITY WARNING: Admin password has low complexity. Should contain at least 3 of: uppercase, lowercase, digits, special characters
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
___________ [doctest] mcpgateway.config.Settings.validate_transport ____________
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
_ [doctest] mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer.initialize _
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.plugins.framework.registry] Registered plugin: ReplaceBadWordsPlugin with hooks: ['prompt_pre_fetch', 'prompt_post_fetch']
INFO  [mcpgateway.plugins.framework.manager] Loaded plugin: ReplaceBadWordsPlugin (mode: PluginMode.ENFORCE)
INFO  [mcpgateway.plugins.framework.manager] Plugin manager initialized with 1 plugins
INFO  [mcpgateway.plugins.framework.manager] Shutting down plugin manager
INFO  [mcpgateway.plugins.framework.manager] Plugin manager shutdown complete
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.plugins.framework.registry:registry.py:103 Registered plugin: ReplaceBadWordsPlugin with hooks: ['prompt_pre_fetch', 'prompt_post_fetch']
INFO     mcpgateway.plugins.framework.manager:manager.py:600 Loaded plugin: ReplaceBadWordsPlugin (mode: PluginMode.ENFORCE)
INFO     mcpgateway.plugins.framework.manager:manager.py:613 Plugin manager initialized with 1 plugins
INFO     mcpgateway.plugins.framework.manager:manager.py:647 Shutting down plugin manager
INFO     mcpgateway.plugins.framework.manager:manager.py:655 Plugin manager shutdown complete
_ [doctest] mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer.invoke_hook _
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.plugins.framework.registry] Registered plugin: ReplaceBadWordsPlugin with hooks: ['prompt_pre_fetch', 'prompt_post_fetch']
INFO  [mcpgateway.plugins.framework.manager] Loaded plugin: ReplaceBadWordsPlugin (mode: PluginMode.ENFORCE)
INFO  [mcpgateway.plugins.framework.manager] Plugin manager initialized with 1 plugins
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.plugins.framework.registry:registry.py:103 Registered plugin: ReplaceBadWordsPlugin with hooks: ['prompt_pre_fetch', 'prompt_post_fetch']
INFO     mcpgateway.plugins.framework.manager:manager.py:600 Loaded plugin: ReplaceBadWordsPlugin (mode: PluginMode.ENFORCE)
INFO     mcpgateway.plugins.framework.manager:manager.py:613 Plugin manager initialized with 1 plugins
_ [doctest] mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer.shutdown _
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.plugins.framework.manager] Shutting down plugin manager
INFO  [mcpgateway.plugins.framework.manager] Plugin manager shutdown complete
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.plugins.framework.manager:manager.py:647 Shutting down plugin manager
INFO     mcpgateway.plugins.framework.manager:manager.py:655 Plugin manager shutdown complete
_ [doctest] mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP._get_ssl_config _
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.plugins.framework.external.mcp.server.runtime] SSL/TLS not enabled
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.plugins.framework.external.mcp.server.runtime:runtime.py:263 SSL/TLS not enabled
________ [doctest] mcpgateway.plugins.framework.external.mcp.tls_utils _________
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
WARNI [mcpgateway.plugins.framework.external.mcp.tls_utils] Hostname verification disabled for plugin 'NoHostnamePlugin'. This increases risk of MITM attacks.
WARNI [mcpgateway.plugins.framework.external.mcp.tls_utils] Certificate verification disabled for plugin 'Plugin2'. This is not recommended for production use.
WARNI [mcpgateway.plugins.framework.external.mcp.tls_utils] Certificate verification disabled for plugin 'InsecureP'. This is not recommended for production use.
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.plugins.framework.external.mcp.tls_utils:tls_utils.py:215 Hostname verification disabled for plugin 'NoHostnamePlugin'. This increases risk of MITM attacks.
WARNING  mcpgateway.plugins.framework.external.mcp.tls_utils:tls_utils.py:197 Certificate verification disabled for plugin 'Plugin2'. This is not recommended for production use.
WARNING  mcpgateway.plugins.framework.external.mcp.tls_utils:tls_utils.py:197 Certificate verification disabled for plugin 'InsecureP'. This is not recommended for production use.
_ [doctest] mcpgateway.plugins.framework.external.mcp.tls_utils.create_ssl_context _
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
WARNI [mcpgateway.plugins.framework.external.mcp.tls_utils] Certificate verification disabled for plugin 'DevPlugin'. This is not recommended for production use.
WARNI [mcpgateway.plugins.framework.external.mcp.tls_utils] Hostname verification disabled for plugin 'MixedPlugin'. This increases risk of MITM attacks.
WARNI [mcpgateway.plugins.framework.external.mcp.tls_utils] Certificate verification disabled for plugin 'BadCertPlugin'. This is not recommended for production use.
ERROR [mcpgateway.plugins.framework.external.mcp.tls_utils] Failed to configure SSL context for plugin 'BadCertPlugin': [SSL] PEM lib (_ssl.c:3895)
WARNI [mcpgateway.plugins.framework.external.mcp.tls_utils] Certificate verification disabled for plugin 'LogTestPlugin'. This is not recommended for production use.
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.plugins.framework.external.mcp.tls_utils:tls_utils.py:197 Certificate verification disabled for plugin 'DevPlugin'. This is not recommended for production use.
WARNING  mcpgateway.plugins.framework.external.mcp.tls_utils:tls_utils.py:215 Hostname verification disabled for plugin 'MixedPlugin'. This increases risk of MITM attacks.
WARNING  mcpgateway.plugins.framework.external.mcp.tls_utils:tls_utils.py:197 Certificate verification disabled for plugin 'BadCertPlugin'. This is not recommended for production use.
ERROR    mcpgateway.plugins.framework.external.mcp.tls_utils:tls_utils.py:237 Failed to configure SSL context for plugin 'BadCertPlugin': [SSL] PEM lib (_ssl.c:3895)
WARNING  mcpgateway.plugins.framework.external.mcp.tls_utils:tls_utils.py:197 Certificate verification disabled for plugin 'LogTestPlugin'. This is not recommended for production use.
______________ [doctest] mcpgateway.config.Settings.supports_sse _______________
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
____ [doctest] mcpgateway.plugins.framework.registry.PluginInstanceRegistry ____
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.plugins.framework.registry] Registered plugin: test with hooks: ['prompt_pre_fetch']
INFO  [mcpgateway.plugins.framework.registry] Unregistered plugin: test
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.plugins.framework.registry:registry.py:103 Registered plugin: test with hooks: ['prompt_pre_fetch']
INFO     mcpgateway.plugins.framework.registry:registry.py:126 Unregistered plugin: test
_____________________ [doctest] mcpgateway.config.Settings _____________________
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config]   SECURITY WARNING: Admin password should be at least 8 characters long. Current length: 6
WARNI [mcpgateway.config]  SECURITY WARNING: Admin password has low complexity. Should contain at least 3 of: uppercase, lowercase, digits, special characters
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:672   SECURITY WARNING: Admin password should be at least 8 characters long. Current length: 6
WARNING  mcpgateway.config:config.py:682  SECURITY WARNING: Admin password has low complexity. Should contain at least 3 of: uppercase, lowercase, digits, special characters
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
______ [doctest] mcpgateway.plugins.framework.external.mcp.server.runtime ______
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.plugins.framework.external.mcp.server.runtime] SSL/TLS not enabled
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.plugins.framework.external.mcp.server.runtime:runtime.py:263 SSL/TLS not enabled
____________ [doctest] mcpgateway.schemas.ServerCreate.validate_id _____________
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.common.validators] Invalid UUID format for Server ID: invalid-uuid
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.common.validators:validators.py:572 Invalid UUID format for Server ID: invalid-uuid
____________ [doctest] mcpgateway.schemas.ServerUpdate.validate_id _____________
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.common.validators] Invalid UUID format for Server ID: invalid-uuid
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.common.validators:validators.py:572 Invalid UUID format for Server ID: invalid-uuid
________________ [doctest] mcpgateway.config.Settings.__init__ _________________
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.config] Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNI [mcpgateway.config] Failed to derive public key for private_key
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.config:config.py:739 Using SQLite database. Consider PostgreSQL or MySQL for production.
WARNING  mcpgateway.config:config.py:2018 Failed to derive public key for private_key
__________ [doctest] mcpgateway.services.argon2_service.hash_password __________
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
_ [doctest] mcpgateway.services.argon2_service.Argon2PasswordService.__init__ __
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=1, memory_cost=2048, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=1, memory_cost=2048, parallelism=1
_________________ [doctest] mcpgateway.services.argon2_service _________________
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
______ [doctest] mcpgateway.services.argon2_service.Argon2PasswordService ______
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
_ [doctest] mcpgateway.services.argon2_service.Argon2PasswordService.get_hash_info _
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
_ [doctest] mcpgateway.services.argon2_service.Argon2PasswordService.hash_password _
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
_ [doctest] mcpgateway.services.argon2_service.Argon2PasswordService.needs_rehash _
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=2, memory_cost=1024, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=2, memory_cost=1024, parallelism=1
_________ [doctest] mcpgateway.services.argon2_service.verify_password _________
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
_ [doctest] mcpgateway.services.argon2_service.Argon2PasswordService.verify_password _
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=1, memory_cost=1024, parallelism=1
_ [doctest] mcpgateway.services.completion_service.CompletionService.handle_completion _
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.services.completion_service] Completion error: Argument not found: arg1
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.services.completion_service:completion_service.py:130 Completion error: Argument not found: arg1
_ [doctest] mcpgateway.services.email_auth_service.EmailAuthService.validate_email _
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
______ [doctest] mcpgateway.services.email_auth_service.EmailAuthService _______
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
_ [doctest] mcpgateway.services.email_auth_service.EmailAuthService.validate_password _
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
_ [doctest] mcpgateway.services.gateway_service.GatewayService._handle_gateway_failure _
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
WARNI [mcpgateway.services.gateway_service] Gateway test_gw failed health check 1 time(s).
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.services.gateway_service:gateway_service.py:3272 Gateway test_gw failed health check 1 time(s).
_ [doctest] mcpgateway.services.gateway_service.GatewayService._refresh_gateway_tools_resources_prompts _
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
WARNI [mcpgateway.services.gateway_service] Gateway gw-123 not found for tool refresh
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.services.gateway_service:gateway_service.py:4688 Gateway gw-123 not found for tool refresh
_ [doctest] mcpgateway.services.gateway_service.GatewayService._initialize_gateway _
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.services.gateway_service] Gateway initialization failed for hello//: unhandled errors in a TaskGroup (1 sub-exception)
  + Exception Group Traceback (most recent call last):
  |   File "/home/yiannislinux/mcp-context-forge/mcpgateway/services/gateway_service.py", line 3900, in _initialize_gateway
  |     capabilities, tools, resources, prompts = await self.connect_to_sse_server(url, authentication, ca_certificate, include_prompts, include_resources, auth_query_params)
  |                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "/home/yiannislinux/mcp-context-forge/mcpgateway/services/gateway_service.py", line 5271, in connect_to_sse_server
  |     async with sse_client(url=server_url, headers=authentication, httpx_client_factory=get_httpx_client_factory) as streams:
  |   File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
  |     return await anext(self.gen)
  |            ^^^^^^^^^^^^^^^^^^^^^
  |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/mcp/client/sse.py", line 63, in sse_client
  |     async with anyio.create_task_group() as tg:
  |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    |     yield
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    |     resp = await self._pool.handle_async_request(req)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 207, in handle_async_request
    |     raise UnsupportedProtocol(
    | httpcore.UnsupportedProtocol: Request URL is missing an 'http://' or 'https://' protocol.
    |
    | The above exception was the direct cause of the following exception:
    |
    | Traceback (most recent call last):
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/mcp/client/sse.py", line 69, in sse_client
    |     async with aconnect_sse(
    |   File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx_sse/_api.py", line 74, in aconnect_sse
    |     async with client.stream(method, url, headers=headers, **kwargs) as response:
    |   File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_client.py", line 1583, in stream
    |     response = await self.send(
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_client.py", line 1629, in send
    |     response = await self._send_handling_auth(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    |     response = await self._send_handling_redirects(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    |     response = await self._send_single_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_client.py", line 1730, in _send_single_request
    |     response = await transport.handle_async_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    |     with map_httpcore_exceptions():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    |     raise mapped_exc(message) from exc
    | httpx.UnsupportedProtocol: Request URL is missing an 'http://' or 'https://' protocol.
    +------------------------------------
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.services.gateway_service:gateway_service.py:3908 Gateway initialization failed for hello//: unhandled errors in a TaskGroup (1 sub-exception)
  + Exception Group Traceback (most recent call last):
  |   File "/home/yiannislinux/mcp-context-forge/mcpgateway/services/gateway_service.py", line 3900, in _initialize_gateway
  |     capabilities, tools, resources, prompts = await self.connect_to_sse_server(url, authentication, ca_certificate, include_prompts, include_resources, auth_query_params)
  |                                               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  |   File "/home/yiannislinux/mcp-context-forge/mcpgateway/services/gateway_service.py", line 5271, in connect_to_sse_server
  |     async with sse_client(url=server_url, headers=authentication, httpx_client_factory=get_httpx_client_factory) as streams:
  |   File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
  |     return await anext(self.gen)
  |            ^^^^^^^^^^^^^^^^^^^^^
  |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/mcp/client/sse.py", line 63, in sse_client
  |     async with anyio.create_task_group() as tg:
  |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/anyio/_backends/_asyncio.py", line 783, in __aexit__
  |     raise BaseExceptionGroup(
  | ExceptionGroup: unhandled errors in a TaskGroup (1 sub-exception)
  +-+---------------- 1 ----------------
    | Traceback (most recent call last):
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_transports/default.py", line 101, in map_httpcore_exceptions
    |     yield
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_transports/default.py", line 394, in handle_async_request
    |     resp = await self._pool.handle_async_request(req)
    |            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpcore/_async/connection_pool.py", line 207, in handle_async_request
    |     raise UnsupportedProtocol(
    | httpcore.UnsupportedProtocol: Request URL is missing an 'http://' or 'https://' protocol.
    |
    | The above exception was the direct cause of the following exception:
    |
    | Traceback (most recent call last):
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/mcp/client/sse.py", line 69, in sse_client
    |     async with aconnect_sse(
    |   File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx_sse/_api.py", line 74, in aconnect_sse
    |     async with client.stream(method, url, headers=headers, **kwargs) as response:
    |   File "/usr/lib/python3.12/contextlib.py", line 210, in __aenter__
    |     return await anext(self.gen)
    |            ^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_client.py", line 1583, in stream
    |     response = await self.send(
    |                ^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_client.py", line 1629, in send
    |     response = await self._send_handling_auth(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_client.py", line 1657, in _send_handling_auth
    |     response = await self._send_handling_redirects(
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_client.py", line 1694, in _send_handling_redirects
    |     response = await self._send_single_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_client.py", line 1730, in _send_single_request
    |     response = await transport.handle_async_request(request)
    |                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_transports/default.py", line 393, in handle_async_request
    |     with map_httpcore_exceptions():
    |   File "/usr/lib/python3.12/contextlib.py", line 158, in __exit__
    |     self.gen.throw(value)
    |   File "/home/yiannislinux/.venv/mcpgateway/lib/python3.12/site-packages/httpx/_transports/default.py", line 118, in map_httpcore_exceptions
    |     raise mapped_exc(message) from exc
    | httpx.UnsupportedProtocol: Request URL is missing an 'http://' or 'https://' protocol.
    +------------------------------------
_ [doctest] mcpgateway.services.gateway_service.GatewayService.delete_gateway __
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.services.structured_logger] [gateway_service] Gateway deletion failed
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.services.structured_logger:structured_logger.py:197 [gateway_service] Gateway deletion failed
_ [doctest] mcpgateway.services.gateway_service.GatewayService.register_gateway _
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.services.gateway_service] Other grouped errors: (TypeError("expected string or bytes-like object, got 'MagicMock'"),)
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.services.gateway_service:gateway_service.py:1242 Other grouped errors: (TypeError("expected string or bytes-like object, got 'MagicMock'"),)
____ [doctest] mcpgateway.services.gateway_service.GatewayService.shutdown _____
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.gateway_service] Gateway service shutdown complete
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.gateway_service:gateway_service.py:565 Gateway service shutdown complete
_____ [doctest] mcpgateway.services.logging_service.LoggingService.notify ______
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [root] test
------------------------------ Captured log call -------------------------------
INFO     root:logging_service.py:580 test
____ [doctest] mcpgateway.services.logging_service.LoggingService.set_level ____
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [logging] Log level set to LogLevel.DEBUG
------------------------------ Captured log call -------------------------------
INFO     logging:logging_service.py:580 Log level set to LogLevel.DEBUG
__ [doctest] mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider ___
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] Initializing Azure OpenAI provider with deployment: gpt-4
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:765 Initializing Azure OpenAI provider with deployment: gpt-4
_ [doctest] mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider.__init__ _
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:765 Initializing Azure OpenAI provider with deployment: gpt-4
_ [doctest] mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider.get_llm _
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] Initializing Azure OpenAI provider with deployment: gpt-4
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:765 Initializing Azure OpenAI provider with deployment: gpt-4
___ [doctest] mcpgateway.services.mcp_client_chat_service.ChatHistoryManager ___
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] ChatHistoryManager initialized with in-memory backend
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1892 ChatHistoryManager initialized with in-memory backend
_ [doctest] mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider.get_model_name _
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] Initializing Azure OpenAI provider with deployment: gpt-4
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:765 Initializing Azure OpenAI provider with deployment: gpt-4
_ [doctest] mcpgateway.services.gateway_service.GatewayService.check_health_of_gateways _
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
WARNI [mcpgateway.services.gateway_service] Gateway gateway_0 failed health check 1 time(s).
WARNI [mcpgateway.services.gateway_service] Gateway gateway_2 failed health check 1 time(s).
WARNI [mcpgateway.services.gateway_service] Gateway gateway_1 failed health check 1 time(s).
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.services.gateway_service:gateway_service.py:3272 Gateway gateway_0 failed health check 1 time(s).
WARNING  mcpgateway.services.gateway_service:gateway_service.py:3272 Gateway gateway_2 failed health check 1 time(s).
WARNING  mcpgateway.services.gateway_service:gateway_service.py:3272 Gateway gateway_1 failed health check 1 time(s).
_ [doctest] mcpgateway.services.mcp_client_chat_service.ChatHistoryManager.__init__ _
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] ChatHistoryManager initialized with in-memory backend
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1892 ChatHistoryManager initialized with in-memory backend
_ [doctest] mcpgateway.services.mcp_client_chat_service.ChatHistoryManager._history_key _
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1892 ChatHistoryManager initialized with in-memory backend
_ [doctest] mcpgateway.services.mcp_client_chat_service.ChatHistoryManager.append_message _
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1892 ChatHistoryManager initialized with in-memory backend
_ [doctest] mcpgateway.services.mcp_client_chat_service.ChatHistoryManager._trim_messages _
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] ChatHistoryManager initialized with in-memory backend
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1892 ChatHistoryManager initialized with in-memory backend
_ [doctest] mcpgateway.services.mcp_client_chat_service.ChatHistoryManager.clear_history _
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] ChatHistoryManager initialized with in-memory backend
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1892 ChatHistoryManager initialized with in-memory backend
_ [doctest] mcpgateway.services.mcp_client_chat_service.ChatHistoryManager.get_langchain_messages _
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] ChatHistoryManager initialized with in-memory backend
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1892 ChatHistoryManager initialized with in-memory backend
_ [doctest] mcpgateway.services.mcp_client_chat_service.ChatHistoryManager.get_history _
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] ChatHistoryManager initialized with in-memory backend
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1892 ChatHistoryManager initialized with in-memory backend
_ [doctest] mcpgateway.services.mcp_client_chat_service.ChatHistoryManager.save_history _
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] ChatHistoryManager initialized with in-memory backend
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1892 ChatHistoryManager initialized with in-memory backend
_ [doctest] mcpgateway.services.mcp_client_chat_service.LLMProviderFactory.create _
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] Creating LLM provider: azure_openai
INFO  [mcpgateway.services.mcp_client_chat_service] Initializing Azure OpenAI provider with deployment: gpt-4
INFO  [mcpgateway.services.mcp_client_chat_service] Creating LLM provider: openai
INFO  [mcpgateway.services.mcp_client_chat_service] Initializing OpenAI provider with model: gpt-4
INFO  [mcpgateway.services.mcp_client_chat_service] Creating LLM provider: ollama
INFO  [mcpgateway.services.mcp_client_chat_service] Initializing Ollama provider with model: llama2
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1830 Creating LLM provider: azure_openai
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:765 Initializing Azure OpenAI provider with deployment: gpt-4
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1830 Creating LLM provider: openai
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:971 Initializing OpenAI provider with model: gpt-4
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1830 Creating LLM provider: ollama
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:882 Initializing Ollama provider with model: llama2
___ [doctest] mcpgateway.services.mcp_client_chat_service.LLMProviderFactory ___
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] Creating LLM provider: ollama
INFO  [mcpgateway.services.mcp_client_chat_service] Initializing Ollama provider with model: llama2
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1830 Creating LLM provider: ollama
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:882 Initializing Ollama provider with model: llama2
_____ [doctest] mcpgateway.services.mcp_client_chat_service.MCPChatService _____
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2151 MCP client initialized with transport: streamable_http
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1830 Creating LLM provider: ollama
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:882 Initializing Ollama provider with model: llama2
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1892 ChatHistoryManager initialized with in-memory backend
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2398 MCPChatService initialized for user: anonymous
_ [doctest] mcpgateway.services.mcp_client_chat_service.MCPChatService.__init__ _
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2151 MCP client initialized with transport: streamable_http
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1830 Creating LLM provider: ollama
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:882 Initializing Ollama provider with model: llama2
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1892 ChatHistoryManager initialized with in-memory backend
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2398 MCPChatService initialized for user: user123
_ [doctest] mcpgateway.services.mcp_client_chat_service.MCPChatService.initialize _
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2151 MCP client initialized with transport: streamable_http
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1830 Creating LLM provider: ollama
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:882 Initializing Ollama provider with model: llama2
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1892 ChatHistoryManager initialized with in-memory backend
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2398 MCPChatService initialized for user: anonymous
_ [doctest] mcpgateway.services.mcp_client_chat_service.MCPChatService.is_initialized _
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2151 MCP client initialized with transport: streamable_http
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1830 Creating LLM provider: ollama
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:882 Initializing Ollama provider with model: llama2
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1892 ChatHistoryManager initialized with in-memory backend
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2398 MCPChatService initialized for user: anonymous
_ [doctest] mcpgateway.services.mcp_client_chat_service.MCPChatService.shutdown _
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] MCP client initialized with transport: streamable_http
INFO  [mcpgateway.services.mcp_client_chat_service] Creating LLM provider: ollama
INFO  [mcpgateway.services.mcp_client_chat_service] Initializing Ollama provider with model: llama2
INFO  [mcpgateway.services.mcp_client_chat_service] ChatHistoryManager initialized with in-memory backend
INFO  [mcpgateway.services.mcp_client_chat_service] MCPChatService initialized for user: anonymous
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2151 MCP client initialized with transport: streamable_http
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1830 Creating LLM provider: ollama
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:882 Initializing Ollama provider with model: llama2
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1892 ChatHistoryManager initialized with in-memory backend
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2398 MCPChatService initialized for user: anonymous
_______ [doctest] mcpgateway.services.mcp_client_chat_service.MCPClient ________
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] MCP client initialized with transport: streamable_http
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2151 MCP client initialized with transport: streamable_http
___ [doctest] mcpgateway.services.mcp_client_chat_service.MCPClient.__init__ ___
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] MCP client initialized with transport: streamable_http
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2151 MCP client initialized with transport: streamable_http
___ [doctest] mcpgateway.services.mcp_client_chat_service.MCPClient.connect ____
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] MCP client initialized with transport: streamable_http
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2151 MCP client initialized with transport: streamable_http
__ [doctest] mcpgateway.services.mcp_client_chat_service.MCPClient.disconnect __
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] MCP client initialized with transport: streamable_http
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2151 MCP client initialized with transport: streamable_http
__ [doctest] mcpgateway.services.mcp_client_chat_service.MCPClient.get_tools ___
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2151 MCP client initialized with transport: streamable_http
_ [doctest] mcpgateway.services.mcp_client_chat_service.MCPClient.is_connected _
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] MCP client initialized with transport: streamable_http
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:2151 MCP client initialized with transport: streamable_http
_____ [doctest] mcpgateway.services.mcp_client_chat_service.OllamaProvider _____
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:882 Initializing Ollama provider with model: llama2
_ [doctest] mcpgateway.services.mcp_client_chat_service.OllamaProvider.get_llm _
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:882 Initializing Ollama provider with model: llama2
_ [doctest] mcpgateway.services.mcp_client_chat_service.OllamaProvider.__init__ _
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] Initializing Ollama provider with model: llama2
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:882 Initializing Ollama provider with model: llama2
_ [doctest] mcpgateway.services.mcp_client_chat_service.OpenAIProvider.__init__ _
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] Initializing OpenAI provider with model: gpt-4
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:971 Initializing OpenAI provider with model: gpt-4
_____ [doctest] mcpgateway.services.mcp_client_chat_service.OpenAIProvider _____
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] Initializing OpenAI provider with model: gpt-4
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:971 Initializing OpenAI provider with model: gpt-4
_ [doctest] mcpgateway.services.mcp_client_chat_service.OpenAIProvider.get_llm _
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] Initializing OpenAI provider with model: gpt-4
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:971 Initializing OpenAI provider with model: gpt-4
_ [doctest] mcpgateway.services.mcp_client_chat_service.OpenAIProvider.get_model_name _
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.mcp_client_chat_service] Initializing OpenAI provider with model: gpt-4
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:971 Initializing OpenAI provider with model: gpt-4
_ [doctest] mcpgateway.services.notification_service.NotificationService.initialize _
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.notification_service] NotificationService initialized with debounce=5.0s
INFO  [mcpgateway.services.notification_service] NotificationService shutdown complete
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.notification_service:notification_service.py:219 NotificationService initialized with debounce=5.0s
INFO     mcpgateway.services.notification_service:notification_service.py:261 NotificationService shutdown complete
_ [doctest] mcpgateway.services.notification_service.NotificationService.shutdown _
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.notification_service] NotificationService initialized with debounce=5.0s
INFO  [mcpgateway.services.notification_service] NotificationService shutdown complete
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.notification_service:notification_service.py:219 NotificationService initialized with debounce=5.0s
INFO     mcpgateway.services.notification_service:notification_service.py:261 NotificationService shutdown complete
_ [doctest] mcpgateway.services.notification_service.init_notification_service _
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.notification_service:notification_service.py:692 Global NotificationService created
_ [doctest] mcpgateway.services.notification_service.get_notification_service __
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.notification_service] Global NotificationService created
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.notification_service:notification_service.py:692 Global NotificationService created
_ [doctest] mcpgateway.services.notification_service.close_notification_service _
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.notification_service] Global NotificationService created
INFO  [mcpgateway.services.notification_service] NotificationService shutdown complete
INFO  [mcpgateway.services.notification_service] Global NotificationService closed
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.notification_service:notification_service.py:692 Global NotificationService created
INFO     mcpgateway.services.notification_service:notification_service.py:261 NotificationService shutdown complete
INFO     mcpgateway.services.notification_service:notification_service.py:716 Global NotificationService closed
__ [doctest] mcpgateway.services.oauth_manager.OAuthManager.get_access_token ___
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
WARNI [mcpgateway.services.oauth_manager] Authorization code flow requires user interaction. For gateway initialization, consider using 'client_credentials' grant type instead.
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.services.oauth_manager:oauth_manager.py:199 Authorization code flow requires user interaction. For gateway initialization, consider using 'client_credentials' grant type instead.
___ [doctest] mcpgateway.services.prompt_service.PromptService.delete_prompt ___
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.services.structured_logger] [prompt_service] Prompt deletion failed
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.services.structured_logger:structured_logger.py:197 [prompt_service] Prompt deletion failed
____ [doctest] mcpgateway.services.prompt_service.PromptService.get_prompt _____
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.metrics_buffer_service] MetricsBufferService initialized: recording_enabled=False, buffer_enabled=True, flush_interval=60s, max_buffer_size=1000
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.metrics_buffer_service:metrics_buffer_service.py:133 MetricsBufferService initialized: recording_enabled=False, buffer_enabled=True, flush_interval=60s, max_buffer_size=1000
__ [doctest] mcpgateway.services.prompt_service.PromptService.register_prompt __
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.services.structured_logger] [prompt_service] Prompt creation failed
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.services.structured_logger:structured_logger.py:197 [prompt_service] Prompt creation failed
_ [doctest] mcpgateway.services.prompt_service.PromptService.register_prompts_bulk _
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.services.prompt_service] Failed to process chunk in bulk prompt registration: expected string or bytes-like object, got 'MagicMock'
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.services.prompt_service:prompt_service.py:890 Failed to process chunk in bulk prompt registration: expected string or bytes-like object, got 'MagicMock'
_ [doctest] mcpgateway.services.prompt_service.PromptService.set_prompt_state __
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.services.structured_logger] [prompt_service] Prompt state change failed
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.services.structured_logger:structured_logger.py:197 [prompt_service] Prompt state change failed
_____ [doctest] mcpgateway.services.prompt_service.PromptService.shutdown ______
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.prompt_service] Prompt service shutdown complete
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.prompt_service:prompt_service.py:232 Prompt service shutdown complete
___ [doctest] mcpgateway.services.prompt_service.PromptService.update_prompt ___
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.services.structured_logger] [prompt_service] Prompt update failed
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.services.structured_logger:structured_logger.py:197 [prompt_service] Prompt update failed
_ [doctest] mcpgateway.services.resource_service.ResourceService.delete_resource _
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.resource_service] Permanently deleted resource: <MagicMock name='mock.execute().scalar_one_or_none().uri' id='125227364158256'>
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.resource_service:resource_service.py:2903 Permanently deleted resource: <MagicMock name='mock.execute().scalar_one_or_none().uri' id='125227364158256'>
_ [doctest] mcpgateway.services.resource_service.ResourceService.read_resource _
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.resource_service] Fetching resource: None (URI: http://example.com/resource.txt)
INFO  [mcpgateway.services.metrics_buffer_service] MetricsBufferService initialized: recording_enabled=False, buffer_enabled=True, flush_interval=60s, max_buffer_size=1000
INFO  [mcpgateway.services.resource_service] Fetching resource: None (URI: abc)
INFO  [mcpgateway.services.resource_service] _template_cache is empty, fetching exisitng resource templates
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.resource_service:resource_service.py:2124 Fetching resource: None (URI: http://example.com/resource.txt)
INFO     mcpgateway.services.metrics_buffer_service:metrics_buffer_service.py:133 MetricsBufferService initialized: recording_enabled=False, buffer_enabled=True, flush_interval=60s, max_buffer_size=1000
INFO     mcpgateway.services.resource_service:resource_service.py:2124 Fetching resource: None (URI: abc)
INFO     mcpgateway.services.resource_service:resource_service.py:3170 _template_cache is empty, fetching exisitng resource templates
_ [doctest] mcpgateway.services.resource_service.ResourceService.register_resources_bulk _
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.resource_service] Bulk registered 2 resources, updated 0 resources in chunk
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.resource_service:resource_service.py:809 Bulk registered 2 resources, updated 0 resources in chunk
_ [doctest] mcpgateway.services.resource_service.ResourceService.register_resource _
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.resource_service] Registering resource: <MagicMock name='mock.uri' id='123942066230464'>
INFO  [mcpgateway.services.resource_service] visibility:: public
INFO  [mcpgateway.services.resource_service] Registered resource: <MagicMock name='mock.uri' id='123942066230464'>
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.resource_service:resource_service.py:431 Registering resource: <MagicMock name='mock.uri' id='123942066230464'>
INFO     mcpgateway.services.resource_service:resource_service.py:434 visibility:: public
INFO     mcpgateway.services.resource_service:resource_service.py:486 Registered resource: <MagicMock name='mock.uri' id='123942066230464'>
_ [doctest] mcpgateway.services.resource_service.ResourceService.subscribe_resource _
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.resource_service] Added subscription for <MagicMock name='mock.uri' id='126866140523904'> by <MagicMock name='mock.subscriber_id' id='126866140570800'>
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.resource_service:resource_service.py:2498 Added subscription for <MagicMock name='mock.uri' id='126866140523904'> by <MagicMock name='mock.subscriber_id' id='126866140570800'>
_ [doctest] mcpgateway.services.resource_service.ResourceService.set_resource_state _
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.resource_service] Resource <MagicMock name='mock.get().uri' id='138029565331024'> activated
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.resource_service:resource_service.py:2386 Resource <MagicMock name='mock.get().uri' id='138029565331024'> activated
_ [doctest] mcpgateway.services.resource_service.ResourceService.unsubscribe_resource _
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.resource_service:resource_service.py:2534 Removed subscription for <MagicMock name='mock.uri' id='135334031508832'> by <MagicMock name='mock.subscriber_id' id='135334031541552'>
_ [doctest] mcpgateway.services.resource_service.ResourceService.update_resource _
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.resource_service:resource_service.py:2593 Updating resource: resource_id
INFO     mcpgateway.services.resource_service:resource_service.py:2687 Updated resource: <MagicMock name='mock.uri' id='129885789017424'>
_ [doctest] mcpgateway.services.role_service.RoleService.revoke_role_from_user _
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.role_service] Revoked role r from u (scope: team, scope_id: t)
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.role_service:role_service.py:671 Revoked role r from u (scope: team, scope_id: t)
______ [doctest] mcpgateway.services.root_service.RootService.initialize _______
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.root_service] Initializing root service
INFO  [mcpgateway.services.root_service] Initializing root service
INFO  [mcpgateway.services.root_service] Added root: file:///tmp
INFO  [mcpgateway.services.root_service] Added root: http://example.com
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.root_service:root_service.py:64 Initializing root service
INFO     mcpgateway.services.root_service:root_service.py:64 Initializing root service
INFO     mcpgateway.services.root_service:root_service.py:183 Added root: file:///tmp
INFO     mcpgateway.services.root_service:root_service.py:183 Added root: http://example.com
__ [doctest] mcpgateway.services.root_service.RootService._notify_subscribers __
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [mcpgateway.services.root_service] Failed to notify subscriber: Queue error
------------------------------ Captured log call -------------------------------
ERROR    mcpgateway.services.root_service:root_service.py:370 Failed to notify subscriber: Queue error
_______ [doctest] mcpgateway.services.root_service.RootService.add_root ________
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.root_service] Added root: file:///tmp
INFO  [mcpgateway.services.root_service] Added root: file:///home/user
INFO  [mcpgateway.services.root_service] Added root: file:///tmp
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.root_service:root_service.py:183 Added root: file:///tmp
INFO     mcpgateway.services.root_service:root_service.py:183 Added root: file:///home/user
INFO     mcpgateway.services.root_service:root_service.py:183 Added root: file:///tmp
______ [doctest] mcpgateway.services.root_service.RootService.list_roots _______
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.root_service] Added root: file:///tmp
INFO  [mcpgateway.services.root_service] Added root: file:///home
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.root_service:root_service.py:183 Added root: file:///tmp
INFO     mcpgateway.services.root_service:root_service.py:183 Added root: file:///home
______ [doctest] mcpgateway.services.root_service.RootService.remove_root ______
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.root_service:root_service.py:183 Added root: file:///tmp
INFO     mcpgateway.services.root_service:root_service.py:214 Removed root: file:///tmp
_______ [doctest] mcpgateway.services.root_service.RootService.shutdown ________
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.root_service] Shutting down root service
INFO  [mcpgateway.services.root_service] Added root: file:///tmp
INFO  [mcpgateway.services.root_service] Shutting down root service
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.root_service:root_service.py:91 Shutting down root service
INFO     mcpgateway.services.root_service:root_service.py:183 Added root: file:///tmp
INFO     mcpgateway.services.root_service:root_service.py:91 Shutting down root service
___ [doctest] mcpgateway.services.root_service.RootService.subscribe_changes ___
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.root_service:root_service.py:183 Added root: file:///tmp
INFO     mcpgateway.services.root_service:root_service.py:214 Removed root: file:///tmp
___ [doctest] mcpgateway.services.server_service.ServerService.delete_server ___
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.server_service] Deleted server: <MagicMock name='mock.get().name' id='137278468824368'>
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.server_service:server_service.py:1617 Deleted server: <MagicMock name='mock.get().name' id='137278468824368'>
_____________ [doctest] mcpgateway.services.sso_service.SSOService _____________
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
__ [doctest] mcpgateway.services.server_service.ServerService.register_server __
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.server_service] Registering server: <MagicMock name='mock.name' id='123941936357808'>
INFO  [mcpgateway.services.server_service] Adding server to DB session: <MagicMock name='mock.name' id='123941936357808'>
INFO  [mcpgateway.services.server_service] Registered server: <MagicMock name='mock.name' id='123941936357808'>
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.server_service:server_service.py:478 Registering server: <MagicMock name='mock.name' id='123941936357808'>
INFO     mcpgateway.services.server_service:server_service.py:521 Adding server to DB session: <MagicMock name='mock.name' id='123941936357808'>
INFO     mcpgateway.services.server_service:server_service.py:623 Registered server: <MagicMock name='mock.name' id='123941936357808'>
_____ [doctest] mcpgateway.services.sso_service.SSOService.delete_provider _____
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
___ [doctest] mcpgateway.services.sso_service.SSOService._decode_jwt_claims ____
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
_ [doctest] mcpgateway.services.server_service.ServerService.set_server_state __
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.server_service:server_service.py:1475 Server <MagicMock name='mock.execute().scalar_one_or_none().name' id='135333968270432'> activated
INFO     mcpgateway.services.server_service:server_service.py:1516 Server Data: {'id': <MagicMock name='mock.execute().scalar_one_or_none().id' id='135333968281568'>, 'name': <MagicMock name='mock.execute().scalar_one_or_none().name' id='135333968270432'>, 'description': <MagicMock name='mock.execute().scalar_one_or_none().description' id='135333968312944'>, 'icon': <MagicMock name='mock.execute().scalar_one_or_none().icon' id='135333968349520'>, 'team': <MagicMock name='mock.execute().scalar_one_or_none().team' id='135333970395104'>, 'created_at': <MagicMock name='mock.execute().scalar_one_or_none().created_at' id='135333968356960'>, 'updated_at': datetime.datetime(2026, 2, 3, 19, 46, 2, 229865, tzinfo=datetime.timezone.utc), 'enabled': True, 'associated_tools': [], 'associated_resources': [], 'associated_prompts': []}
_ [doctest] mcpgateway.services.sso_service.SSOService.generate_pkce_challenge _
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
_____ [doctest] mcpgateway.services.sso_service.SSOService.create_provider _____
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
__ [doctest] mcpgateway.services.sso_service.SSOService.get_authorization_url __
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
___ [doctest] mcpgateway.services.server_service.ServerService.update_server ___
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.server_service] Updated server: test_server
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.server_service:server_service.py:1286 Updated server: test_server
______ [doctest] mcpgateway.services.sso_service.SSOService.get_provider _______
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
__ [doctest] mcpgateway.services.sso_service.SSOService.handle_oauth_callback __
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
INFO     mcpgateway.services.sso_service:sso_service.py:460 Starting token exchange for provider github
INFO     mcpgateway.services.sso_service:sso_service.py:465 Token exchange successful for provider github
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
_ [doctest] mcpgateway.services.sso_service.SSOService.list_enabled_providers __
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
__ [doctest] mcpgateway.services.sso_service.SSOService.get_provider_by_name ___
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
_____ [doctest] mcpgateway.services.sso_service.SSOService.update_provider _____
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.argon2_service] Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.argon2_service:argon2_service.py:84 Initialized Argon2PasswordService with time_cost=3, memory_cost=65536, parallelism=1
_ [doctest] mcpgateway.services.token_storage_service.TokenStorageService.cleanup_expired_tokens _
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.token_storage_service:token_storage_service.py:463 Cleaned up 2 expired OAuth tokens
_ [doctest] mcpgateway.services.token_storage_service.TokenStorageService.revoke_user_tokens _
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.token_storage_service] Revoked OAuth tokens for gateway g1, user u1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.token_storage_service:token_storage_service.py:422 Revoked OAuth tokens for gateway g1, user u1
______ [doctest] mcpgateway.services.tool_service.ToolService.delete_tool ______
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.tool_service] Permanently deleted tool: <MagicMock name='mock.get().name' id='123941935449920'>
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.tool_service:tool_service.py:2209 Permanently deleted tool: <MagicMock name='mock.get().name' id='123941935449920'>
______ [doctest] mcpgateway.services.tool_service.ToolService.initialize _______
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.tool_service] Initializing tool service
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.tool_service:tool_service.py:437 Initializing tool service
__ [doctest] mcpgateway.services.tool_service.ToolService.register_tools_bulk __
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
WARNI [mcpgateway.services.tool_service] Failed to process tool <MagicMock name='mock.name' id='138029691536112'> in bulk operation: expected string or bytes-like object, got 'MagicMock'
WARNI [mcpgateway.services.tool_service] Failed to process tool <MagicMock name='mock.name' id='138029562117872'> in bulk operation: expected string or bytes-like object, got 'MagicMock'
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.services.tool_service:tool_service.py:1587 Failed to process tool <MagicMock name='mock.name' id='138029691536112'> in bulk operation: expected string or bytes-like object, got 'MagicMock'
WARNING  mcpgateway.services.tool_service:tool_service.py:1587 Failed to process tool <MagicMock name='mock.name' id='138029562117872'> in bulk operation: expected string or bytes-like object, got 'MagicMock'
_____ [doctest] mcpgateway.toolops.utils.db_util.populate_testcases_table ______
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.toolops.utils.db_util:db_util.py:76 Added tool test case record with empty test cases for tool tool-123 with status in-progress
INFO     mcpgateway.toolops.utils.db_util:db_util.py:83 Updated tool record in table with test cases for tool tool-123 with status completed
_______ [doctest] mcpgateway.services.tool_service.ToolService.shutdown ________
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.tool_service] Tool service shutdown complete
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.tool_service:tool_service.py:451 Tool service shutdown complete
____ [doctest] mcpgateway.services.tool_service.ToolService.set_tool_state _____
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.tool_service:tool_service.py:2382 Tool: <MagicMock name='mock.get().name' id='129885725370816'> is enabled and accessible
______ [doctest] mcpgateway.services.tool_service.ToolService.update_tool ______
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.services.tool_service] Update tool: <MagicMock name='mock.name' id='123794841376896'> (output_schema: <MagicMock name='mock.output_schema' id='123794839606176'>)
INFO  [mcpgateway.services.tool_service] Updated tool: <MagicMock name='mock.name' id='123794841376896'>
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.tool_service:tool_service.py:3583 Update tool: <MagicMock name='mock.name' id='123794841376896'> (output_schema: <MagicMock name='mock.output_schema' id='123794839606176'>)
INFO     mcpgateway.services.tool_service:tool_service.py:3589 Updated tool: <MagicMock name='mock.name' id='123794841376896'>
__________ [doctest] mcpgateway.toolops.utils.db_util.query_tool_auth __________
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.toolops.utils.db_util] Tool auth obtained from table for the tool - tool-1
ERROR [mcpgateway.toolops.utils.db_util] Error in obtaining authorization for the tool - tool-2 , DB Connection Error
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.toolops.utils.db_util:db_util.py:163 Tool auth obtained from table for the tool - tool-1
ERROR    mcpgateway.toolops.utils.db_util:db_util.py:165 Error in obtaining authorization for the tool - tool-2 , DB Connection Error
_______ [doctest] mcpgateway.toolops.utils.db_util.query_testcases_table _______
[gw4] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.toolops.utils.db_util] Tool record obtained from table for tool - tool-abc
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.toolops.utils.db_util:db_util.py:118 Tool record obtained from table for tool - tool-abc
_________ [doctest] mcpgateway.toolops.utils.llm_util.get_llm_instance _________
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
2026-02-03T19:46:02 - mcpgateway.services.mcp_client_chat_service - ERROR - Failed to create OpenAI LLM: 'NoneType' object is not callable
2026-02-03T19:46:02 - mcpgateway.services.mcp_client_chat_service - ERROR - Failed to create Azure OpenAI LLM: 'NoneType' object is not callable
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.toolops.utils.llm_util:llm_util.py:117 Configuring LLM instance for ToolOps , and LLM provider - openai
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:971 Initializing OpenAI provider with model: gpt-4
ERROR    mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:1022 Failed to create OpenAI LLM: 'NoneType' object is not callable
INFO     mcpgateway.toolops.utils.llm_util:llm_util.py:232 Error in configuring LLM instance for ToolOps -'NoneType' object is not callable
INFO     mcpgateway.toolops.utils.llm_util:llm_util.py:117 Configuring LLM instance for ToolOps , and LLM provider - azure_openai
INFO     mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:765 Initializing Azure OpenAI provider with deployment:
ERROR    mcpgateway.services.mcp_client_chat_service:mcp_client_chat_service.py:820 Failed to create Azure OpenAI LLM: 'NoneType' object is not callable
INFO     mcpgateway.toolops.utils.llm_util:llm_util.py:232 Error in configuring LLM instance for ToolOps -'NoneType' object is not callable
INFO     mcpgateway.toolops.utils.llm_util:llm_util.py:117 Configuring LLM instance for ToolOps , and LLM provider - aws_bedrock
INFO     mcpgateway.toolops.utils.llm_util:llm_util.py:232 Error in configuring LLM instance for ToolOps -AWS Bedrock provider requires langchain-aws package. Install it with: pip install langchain-aws boto3
INFO     mcpgateway.toolops.utils.llm_util:llm_util.py:117 Configuring LLM instance for ToolOps , and LLM provider - watsonx
INFO     mcpgateway.toolops.utils.llm_util:llm_util.py:232 Error in configuring LLM instance for ToolOps -IBM watsonx.ai provider requires langchain-ibm package. Install it with: pip install langchain-ibm
_______________________ [doctest] mcpgateway.transports ________________________
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=http://localhost:8000, session_id=b38167cc-dbf6-4e20-874d-fd3c99631a76
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://localhost:8000, session_id=b38167cc-dbf6-4e20-874d-fd3c99631a76
______ [doctest] mcpgateway.translate_header_utils.sanitize_header_value _______
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
WARNI [mcpgateway.translate_header_utils] Header value truncated from 100 to 10 characters
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.translate_header_utils:translate_header_utils.py:96 Header value truncated from 100 to 10 characters
__________ [doctest] mcpgateway.transports.sse_transport.SSETransport __________
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=00a527a3-0122-4b80-8be0-78f28d28144b
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://localhost:8080, session_id=3d70aa3e-da23-4998-91d3-f6703c5569ec
_____ [doctest] mcpgateway.transports.sse_transport.SSETransport.__init__ ______
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=54605758-8419-4d55-9b6a-02b96b4fbb6c
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=https://api.example.com, session_id=07e31dd6-ba48-4cf6-95a7-28c6f70b633b
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=7b1bedcc-1119-4e4e-b047-a130bd359e0a
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=108f1130-c0af-4eba-be07-e99bf0ab2746
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=54605758-8419-4d55-9b6a-02b96b4fbb6c
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=https://api.example.com, session_id=07e31dd6-ba48-4cf6-95a7-28c6f70b633b
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=7b1bedcc-1119-4e4e-b047-a130bd359e0a
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=108f1130-c0af-4eba-be07-e99bf0ab2746
_ [doctest] mcpgateway.transports.sse_transport.SSETransport._client_disconnected _
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=9d9c25e6-f09d-4dac-a6ed-449801ae77ef
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=1ce9c0b5-4040-49dd-9424-070d36ab7343
______ [doctest] mcpgateway.transports.sse_transport.SSETransport.connect ______
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=155670df-9332-4b42-91cd-aa2186a70f9e
INFO  [mcpgateway.transports.sse_transport] SSE transport connected: 155670df-9332-4b42-91cd-aa2186a70f9e
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=155670df-9332-4b42-91cd-aa2186a70f9e
INFO     mcpgateway.transports.sse_transport:sse_transport.py:398 SSE transport connected: 155670df-9332-4b42-91cd-aa2186a70f9e
_ [doctest] mcpgateway.transports.sse_transport.SSETransport.create_sse_response _
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=http://localhost:8000, session_id=5467f074-5b9b-42de-bfc9-1839c4208bef
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://localhost:8000, session_id=5467f074-5b9b-42de-bfc9-1839c4208bef
____ [doctest] mcpgateway.transports.sse_transport.SSETransport.disconnect _____
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=441d7df9-b014-40b7-8b6d-bbe4a187fb4d
INFO  [mcpgateway.transports.sse_transport] SSE transport connected: 441d7df9-b014-40b7-8b6d-bbe4a187fb4d
INFO  [mcpgateway.transports.sse_transport] SSE transport disconnected: 441d7df9-b014-40b7-8b6d-bbe4a187fb4d
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=7a57a22f-dc4e-4ca4-9969-cbb94d295d1d
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=441d7df9-b014-40b7-8b6d-bbe4a187fb4d
INFO     mcpgateway.transports.sse_transport:sse_transport.py:398 SSE transport connected: 441d7df9-b014-40b7-8b6d-bbe4a187fb4d
INFO     mcpgateway.transports.sse_transport:sse_transport.py:425 SSE transport disconnected: 441d7df9-b014-40b7-8b6d-bbe4a187fb4d
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=7a57a22f-dc4e-4ca4-9969-cbb94d295d1d
___ [doctest] mcpgateway.transports.sse_transport.SSETransport.is_connected ____
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=e677301e-e193-426d-a31d-03b6345ed39a
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=9ca29bf6-647b-4b33-b0ac-538f611e61d3
INFO  [mcpgateway.transports.sse_transport] SSE transport connected: 9ca29bf6-647b-4b33-b0ac-538f611e61d3
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=000a2367-e26c-4fde-9fd9-079f6e31446c
INFO  [mcpgateway.transports.sse_transport] SSE transport connected: 000a2367-e26c-4fde-9fd9-079f6e31446c
INFO  [mcpgateway.transports.sse_transport] SSE transport disconnected: 000a2367-e26c-4fde-9fd9-079f6e31446c
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=e677301e-e193-426d-a31d-03b6345ed39a
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=9ca29bf6-647b-4b33-b0ac-538f611e61d3
INFO     mcpgateway.transports.sse_transport:sse_transport.py:398 SSE transport connected: 9ca29bf6-647b-4b33-b0ac-538f611e61d3
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=000a2367-e26c-4fde-9fd9-079f6e31446c
INFO     mcpgateway.transports.sse_transport:sse_transport.py:398 SSE transport connected: 000a2367-e26c-4fde-9fd9-079f6e31446c
INFO     mcpgateway.transports.sse_transport:sse_transport.py:425 SSE transport disconnected: 000a2367-e26c-4fde-9fd9-079f6e31446c
__ [doctest] mcpgateway.transports.sse_transport.SSETransport.receive_message __
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=388b9f1b-04d6-490f-bba4-4e404b180857
INFO     mcpgateway.transports.sse_transport:sse_transport.py:398 SSE transport connected: 388b9f1b-04d6-490f-bba4-4e404b180857
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=ff66d485-24ba-431e-b099-eeaa2fd31bef
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=332ba7bf-5500-4d7a-83d8-1c3cd5e54759
____ [doctest] mcpgateway.transports.sse_transport.SSETransport.session_id _____
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=a1e6df1f-a3a6-4463-9b4a-e9832f1ac54b
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=f517f5c8-6ed5-4590-9d05-7e803e926e2e
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=628b6193-e567-4ce4-850a-98371618a761
_ [doctest] mcpgateway.transports.streamablehttp_transport.InMemoryEventStore.replay_events_after _
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.transports.streamablehttp_transport:streamablehttp_transport.py:361 Event ID non-existent not found in store
___ [doctest] mcpgateway.transports.sse_transport.SSETransport.send_message ____
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=37ee43d5-0623-47c8-a4ba-92b32225d149
INFO  [mcpgateway.transports.sse_transport] SSE transport connected: 37ee43d5-0623-47c8-a4ba-92b32225d149
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=24d14040-545c-4f1b-bafd-40f5807fe4c7
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=11069498-8634-442a-b18d-aafde3c133d7
INFO  [mcpgateway.transports.sse_transport] SSE transport connected: 11069498-8634-442a-b18d-aafde3c133d7
INFO  [mcpgateway.transports.sse_transport] Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=2967dc53-414d-4db7-a351-46dae9e7532b
INFO  [mcpgateway.transports.sse_transport] SSE transport connected: 2967dc53-414d-4db7-a351-46dae9e7532b
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=37ee43d5-0623-47c8-a4ba-92b32225d149
INFO     mcpgateway.transports.sse_transport:sse_transport.py:398 SSE transport connected: 37ee43d5-0623-47c8-a4ba-92b32225d149
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=24d14040-545c-4f1b-bafd-40f5807fe4c7
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=11069498-8634-442a-b18d-aafde3c133d7
INFO     mcpgateway.transports.sse_transport:sse_transport.py:398 SSE transport connected: 11069498-8634-442a-b18d-aafde3c133d7
INFO     mcpgateway.transports.sse_transport:sse_transport.py:382 Creating SSE transport with base_url=http://0.0.0.0:4444, session_id=2967dc53-414d-4db7-a351-46dae9e7532b
INFO     mcpgateway.transports.sse_transport:sse_transport.py:398 SSE transport connected: 2967dc53-414d-4db7-a351-46dae9e7532b
_ [doctest] mcpgateway.transports.websocket_transport.WebSocketTransport.connect _
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.transports.websocket_transport] WebSocket transport connected
INFO  [mcpgateway.transports.websocket_transport] WebSocket transport disconnected
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.transports.websocket_transport:websocket_transport.py:116 WebSocket transport connected
INFO     mcpgateway.transports.websocket_transport:websocket_transport.py:170 WebSocket transport disconnected
_ [doctest] mcpgateway.transports.websocket_transport.WebSocketTransport.disconnect _
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.transports.websocket_transport] WebSocket transport disconnected
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.transports.websocket_transport:websocket_transport.py:170 WebSocket transport disconnected
_ [doctest] mcpgateway.transports.websocket_transport.WebSocketTransport.receive_message _
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.transports.websocket_transport] WebSocket transport disconnected
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.transports.websocket_transport:websocket_transport.py:170 WebSocket transport disconnected
_______________ [doctest] correlation_id.validate_correlation_id _______________
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
WARNI [correlation_id] Correlation ID contains invalid characters: abc 123
WARNI [correlation_id] Correlation ID too long: 300 > 255
------------------------------ Captured log call -------------------------------
WARNING  correlation_id:correlation_id.py:202 Correlation ID contains invalid characters: abc 123
WARNING  correlation_id:correlation_id.py:197 Correlation ID too long: 300 > 255
________ [doctest] error_formatter.ErrorFormatter.format_database_error ________
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [error_formatter] Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR [error_formatter] Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR [error_formatter] Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR [error_formatter] Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR [error_formatter] Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR [error_formatter] Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR [error_formatter] Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR [error_formatter] Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR [error_formatter] Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR [error_formatter] Database error: <Mock spec='DatabaseError' id='125227364115776'>
------------------------------ Captured log call -------------------------------
ERROR    error_formatter:error_formatter.py:295 Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR    error_formatter:error_formatter.py:295 Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR    error_formatter:error_formatter.py:295 Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR    error_formatter:error_formatter.py:295 Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR    error_formatter:error_formatter.py:295 Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR    error_formatter:error_formatter.py:295 Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR    error_formatter:error_formatter.py:295 Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR    error_formatter:error_formatter.py:295 Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR    error_formatter:error_formatter.py:295 Database error: <Mock spec='IntegrityError' id='125227364119616'>
ERROR    error_formatter:error_formatter.py:295 Database error: <Mock spec='DatabaseError' id='125227364115776'>
___________ [doctest] keycloak_discovery.discover_keycloak_endpoints ___________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
2026-02-03T19:46:03 - keycloak_discovery - ERROR - Failed to discover Keycloak endpoints from https://keycloak.example.com/realms/master/.well-known/openid-configuration: [Errno -5] No address associated with hostname
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.services.http_client_service:http_client_service.py:131 Shared HTTP client initialized: max_connections=200, keepalive=100, http2=False
ERROR    keycloak_discovery:keycloak_discovery.py:73 Failed to discover Keycloak endpoints from https://keycloak.example.com/realms/master/.well-known/openid-configuration: [Errno -5] No address associated with hostname
____________ [doctest] passthrough_headers.get_passthrough_headers _____________
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.cache.global_config_cache] GlobalConfig cache invalidated
INFO  [mcpgateway.cache.global_config_cache] GlobalConfig cache invalidated
WARNI [passthrough_headers] Skipping Authorization header passthrough due to basic auth configuration on gateway gw1
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.cache.global_config_cache:global_config_cache.py:261 GlobalConfig cache invalidated
INFO     mcpgateway.cache.global_config_cache:global_config_cache.py:261 GlobalConfig cache invalidated
WARNING  passthrough_headers:passthrough_headers.py:297 Skipping Authorization header passthrough due to basic auth configuration on gateway gw1
__________________ [doctest] redis_client.is_redis_available ___________________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.utils.redis_client:redis_client.py:121 Redis disabled (cache_type != 'redis' or no redis_url)
___________________ [doctest] redis_client.get_redis_client ____________________
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.utils.redis_client] Redis disabled (cache_type != 'redis' or no redis_url)
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.utils.redis_client:redis_client.py:121 Redis disabled (cache_type != 'redis' or no redis_url)
___________________________ [doctest] retry_manager ____________________________
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [mcpgateway.utils.retry_manager] Response 404: Not retrying.
INFO  [mcpgateway.utils.retry_manager] Response 503: Retrying.
------------------------------ Captured log call -------------------------------
INFO     mcpgateway.utils.retry_manager:retry_manager.py:376 Response 404: Not retrying.
INFO     mcpgateway.utils.retry_manager:retry_manager.py:379 Response 503: Retrying.
___________________ [doctest] validate_signature.resign_data ___________________
[gw5] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
INFO  [validate_signature] No existing signature found  signing for the first time.
INFO  [validate_signature] Old signature valid  re-signing with new key.
ERROR [validate_signature] Signature validation failed:
WARNI [validate_signature] Old signature invalid  not re-signing.
------------------------------ Captured log call -------------------------------
INFO     validate_signature:validate_signature.py:285 No existing signature found  signing for the first time.
INFO     validate_signature:validate_signature.py:296 Old signature valid  re-signing with new key.
ERROR    validate_signature:validate_signature.py:197 Signature validation failed:
WARNING  validate_signature:validate_signature.py:293 Old signature invalid  not re-signing.
_________________________ [doctest] verify_credentials _________________________
[gw6] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.utils.verify_credentials:verify_credentials.py:129 JWT token without expiration accepted. Consider enabling REQUIRE_TOKEN_EXPIRATION for better security. Token sub: alice
WARNING  mcpgateway.utils.verify_credentials:verify_credentials.py:141 JWT token without JTI accepted. Token cannot be revoked. Consider enabling REQUIRE_JTI for better security. Token sub: alice
WARNING  mcpgateway.utils.verify_credentials:verify_credentials.py:129 JWT token without expiration accepted. Consider enabling REQUIRE_TOKEN_EXPIRATION for better security. Token sub: alice
WARNING  mcpgateway.utils.verify_credentials:verify_credentials.py:141 JWT token without JTI accepted. Token cannot be revoked. Consider enabling REQUIRE_JTI for better security. Token sub: alice
_______________ [doctest] validate_signature.validate_signature ________________
[gw3] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
ERROR [validate_signature] Signature validation failed:
ERROR [validate_signature] Invalid hex signature format.
------------------------------ Captured log call -------------------------------
ERROR    validate_signature:validate_signature.py:197 Signature validation failed:
ERROR    validate_signature:validate_signature.py:176 Invalid hex signature format.
__________________ [doctest] verify_credentials.require_auth ___________________
[gw7] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
WARNI [mcpgateway.utils.verify_credentials] JWT token without expiration accepted. Consider enabling REQUIRE_TOKEN_EXPIRATION for better security. Token sub: alice
WARNI [mcpgateway.utils.verify_credentials] JWT token without JTI accepted. Token cannot be revoked. Consider enabling REQUIRE_JTI for better security. Token sub: alice
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.utils.verify_credentials:verify_credentials.py:129 JWT token without expiration accepted. Consider enabling REQUIRE_TOKEN_EXPIRATION for better security. Token sub: alice
WARNING  mcpgateway.utils.verify_credentials:verify_credentials.py:141 JWT token without JTI accepted. Token cannot be revoked. Consider enabling REQUIRE_JTI for better security. Token sub: alice
______________ [doctest] verify_credentials.require_auth_override ______________
[gw1] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.utils.verify_credentials:verify_credentials.py:129 JWT token without expiration accepted. Consider enabling REQUIRE_TOKEN_EXPIRATION for better security. Token sub: alice
WARNING  mcpgateway.utils.verify_credentials:verify_credentials.py:141 JWT token without JTI accepted. Token cannot be revoked. Consider enabling REQUIRE_JTI for better security. Token sub: alice
WARNING  mcpgateway.utils.verify_credentials:verify_credentials.py:129 JWT token without expiration accepted. Consider enabling REQUIRE_TOKEN_EXPIRATION for better security. Token sub: alice
WARNING  mcpgateway.utils.verify_credentials:verify_credentials.py:141 JWT token without JTI accepted. Token cannot be revoked. Consider enabling REQUIRE_JTI for better security. Token sub: alice
___________ [doctest] verify_credentials.require_docs_auth_override ____________
[gw0] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
WARNI [mcpgateway.utils.verify_credentials] JWT token without expiration accepted. Consider enabling REQUIRE_TOKEN_EXPIRATION for better security. Token sub: alice
WARNI [mcpgateway.utils.verify_credentials] JWT token without JTI accepted. Token cannot be revoked. Consider enabling REQUIRE_JTI for better security. Token sub: alice
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.utils.verify_credentials:verify_credentials.py:129 JWT token without expiration accepted. Consider enabling REQUIRE_TOKEN_EXPIRATION for better security. Token sub: alice
WARNING  mcpgateway.utils.verify_credentials:verify_credentials.py:141 JWT token without JTI accepted. Token cannot be revoked. Consider enabling REQUIRE_JTI for better security. Token sub: alice
_______________ [doctest] verify_credentials.verify_credentials ________________
[gw2] linux -- Python 3.12.3 /home/yiannislinux/.venv/mcpgateway/bin/python3
----------------------------- Captured stderr call -----------------------------
WARNI [mcpgateway.utils.verify_credentials] JWT token without expiration accepted. Consider enabling REQUIRE_TOKEN_EXPIRATION for better security. Token sub: alice
WARNI [mcpgateway.utils.verify_credentials] JWT token without JTI accepted. Token cannot be revoked. Consider enabling REQUIRE_JTI for better security. Token sub: alice
------------------------------ Captured log call -------------------------------
WARNING  mcpgateway.utils.verify_credentials:verify_credentials.py:129 JWT token without expiration accepted. Consider enabling REQUIRE_TOKEN_EXPIRATION for better security. Token sub: alice
WARNING  mcpgateway.utils.verify_credentials:verify_credentials.py:141 JWT token without JTI accepted. Token cannot be revoked. Consider enabling REQUIRE_JTI for better security. Token sub: alice
================================ tests coverage ================================
_______________ coverage: platform linux, python 3.12.3-final-0 ________________

Name                                                          Stmts   Miss Branch BrPart  Cover
-----------------------------------------------------------------------------------------------
mcpgateway/admin.py                                            5534   4037   1576     76    23%
mcpgateway/auth.py                                              345    308    142      2     8%
mcpgateway/bootstrap_db.py                                      259    123     76     22    48%
mcpgateway/cache/a2a_stats_cache.py                              40      2      4      1    93%
mcpgateway/cache/admin_stats_cache.py                           370    160     98     38    54%
mcpgateway/cache/auth_cache.py                                  441    208    118     41    50%
mcpgateway/cache/global_config_cache.py                          58      4     12      2    91%
mcpgateway/cache/metrics_cache.py                                67      7      8      0    91%
mcpgateway/cache/registry_cache.py                              308    169     68      9    41%
mcpgateway/cache/resource_cache.py                               94     38     18      0    57%
mcpgateway/cache/session_registry.py                            726    547    218     33    24%
mcpgateway/cache/tool_lookup_cache.py                           168    104     42      6    33%
mcpgateway/cli.py                                               105     69     34      4    30%
mcpgateway/cli_export_import.py                                 178    156     62      0     9%
mcpgateway/common/models.py                                     343      1      2      1    99%
mcpgateway/common/validators.py                                 257     29    154     19    87%
mcpgateway/config.py                                            824    107    128     32    81%
mcpgateway/db.py                                               2182    670    354     26    62%
mcpgateway/handlers/sampling.py                                  88      4     44      3    95%
mcpgateway/instrumentation/sqlalchemy.py                         95     75     22      0    17%
mcpgateway/llm_provider_configs.py                               60      2      0      0    97%
mcpgateway/llm_schemas.py                                       228      7      6      0    94%
mcpgateway/main.py                                             2640   1970    786     55    22%
mcpgateway/middleware/auth_middleware.py                         64     47     14      0    22%
mcpgateway/middleware/compression.py                             22      6      4      1    65%
mcpgateway/middleware/correlation_id.py                          28     18      6      0    29%
mcpgateway/middleware/db_query_logging.py                       183    144     60      0    16%
mcpgateway/middleware/http_auth_middleware.py                    58     48     22      0    12%
mcpgateway/middleware/observability_middleware.py                94     78     22      0    14%
mcpgateway/middleware/path_filter.py                             61      4     10      0    94%
mcpgateway/middleware/protocol_version.py                        29     18     10      0    28%
mcpgateway/middleware/rbac.py                                   212    120     84     18    37%
mcpgateway/middleware/request_context.py                          7      5      2      0    22%
mcpgateway/middleware/request_logging_middleware.py             227    162     82      1    27%
mcpgateway/middleware/security_headers.py                        61     12     40     17    65%
mcpgateway/middleware/token_scoping.py                          380    312    194      7    17%
mcpgateway/middleware/validation_middleware.py                  100     82     52      0    12%
mcpgateway/observability.py                                     238    171     98      3    21%
mcpgateway/plugins/framework/base.py                            153     59     42      8    52%
mcpgateway/plugins/framework/constants.py                        26      0      0      0   100%
mcpgateway/plugins/framework/decorator.py                        21      0      0      0   100%
mcpgateway/plugins/framework/errors.py                           12      1      0      0    92%
mcpgateway/plugins/framework/external/mcp/client.py             286    249     98      0    10%
mcpgateway/plugins/framework/external/mcp/server/runtime.py     124     92     36      4    22%
mcpgateway/plugins/framework/external/mcp/server/server.py       52      8     14      3    83%
mcpgateway/plugins/framework/external/mcp/tls_utils.py           27      2      8      1    91%
mcpgateway/plugins/framework/hooks/agents.py                     30      0      2      1    97%
mcpgateway/plugins/framework/hooks/http.py                       57      4      2      1    92%
mcpgateway/plugins/framework/hooks/prompts.py                    23      0      2      1    96%
mcpgateway/plugins/framework/hooks/registry.py                   38      4     10      4    83%
mcpgateway/plugins/framework/hooks/resources.py                  22      0      2      1    96%
mcpgateway/plugins/framework/hooks/tools.py                      24      0      2      1    96%
mcpgateway/plugins/framework/loader/config.py                    18      0      2      0   100%
mcpgateway/plugins/framework/loader/plugin.py                    38      6     10      5    77%
mcpgateway/plugins/framework/manager.py                         218    100     78     16    48%
mcpgateway/plugins/framework/memory.py                           90     18     40      8    77%
mcpgateway/plugins/framework/models.py                          387    163    140     15    46%
mcpgateway/plugins/framework/registry.py                         66      8     18      6    83%
mcpgateway/plugins/framework/utils.py                            52      4     30      6    88%
mcpgateway/plugins/tools/cli.py                                  51     17      2      0    64%
mcpgateway/plugins/tools/models.py                                7      0      0      0   100%
mcpgateway/reverse_proxy.py                                     333    243     94      4    22%
mcpgateway/routers/auth.py                                       58     26      8      0    58%
mcpgateway/routers/cancellation_router.py                        46     20      6      0    50%
mcpgateway/routers/email_auth.py                                278    226     46      0    16%
mcpgateway/routers/llm_admin_router.py                          227    174     42      0    20%
mcpgateway/routers/llm_config_router.py                         158    103      2      0    34%
mcpgateway/routers/llm_proxy_router.py                           46     28      6      0    35%
mcpgateway/routers/llmchat_router.py                            345    267    112      0    17%
mcpgateway/routers/log_search.py                                328    201    104      0    29%
mcpgateway/routers/metrics_maintenance.py                        93     35     10      0    56%
mcpgateway/routers/oauth_router.py                              235    204     66      0    10%
mcpgateway/routers/observability.py                             149     39     32      7    72%
mcpgateway/routers/rbac.py                                      185    130      8      0    28%
mcpgateway/routers/reverse_proxy.py                             203    162     48      0    16%
mcpgateway/routers/server_well_known.py                          39     22     10      0    35%
mcpgateway/routers/sso.py                                       230    129     56      0    35%
mcpgateway/routers/teams.py                                     370    303     80      0    15%
mcpgateway/routers/tokens.py                                    160    118     44      0    21%
mcpgateway/routers/toolops_router.py                             51     24      0      0    53%
mcpgateway/routers/well_known.py                                108     84     50      0    15%
mcpgateway/schemas.py                                          2728    514    614    131    73%
mcpgateway/scripts/validate_env.py                               68     17     36      1    77%
mcpgateway/services/a2a_service.py                              618    473    242     22    21%
mcpgateway/services/argon2_service.py                            91     28     20      6    69%
mcpgateway/services/audit_trail_service.py                      124     84     48      1    25%
mcpgateway/services/cancellation_service.py                     150    122     34      0    15%
mcpgateway/services/catalog_service.py                          265    238    106      0     7%
mcpgateway/services/completion_service.py                        71     12     26      6    79%
mcpgateway/services/dcr_service.py                              158    136     44      0    11%
mcpgateway/services/elicitation_service.py                      133    100     44      0    19%
mcpgateway/services/email_auth_service.py                       443    318    118     12    26%
mcpgateway/services/encryption_service.py                        66     12      8      2    81%
mcpgateway/services/event_service.py                             99     71     22      2    26%
mcpgateway/services/export_service.py                           340    289    136      0    11%
mcpgateway/services/gateway_service.py                         2187   1759    892     55    17%
mcpgateway/services/grpc_service.py                             229    194     80      0    11%
mcpgateway/services/http_client_service.py                       79     18     18      5    68%
mcpgateway/services/import_service.py                           800    656    336      5    15%
mcpgateway/services/llm_provider_service.py                     276    235    100      0    11%
mcpgateway/services/llm_proxy_service.py                        280    243    140      0     9%
mcpgateway/services/log_aggregator.py                           355    326    136      0     6%
mcpgateway/services/log_storage_service.py                      154     67     44      6    47%
mcpgateway/services/logging_service.py                          229     70     54     12    65%
mcpgateway/services/mcp_client_chat_service.py                  848    566    300     16    26%
mcpgateway/services/mcp_session_pool.py                         483    403    128      1    13%
mcpgateway/services/metrics.py                                   48     17     14      5    58%
mcpgateway/services/metrics_buffer_service.py                   256    164     48      3    31%
mcpgateway/services/metrics_cleanup_service.py                  185    141     40      0    20%
mcpgateway/services/metrics_query_service.py                    132     97     40      0    20%
mcpgateway/services/metrics_rollup_service.py                   345    273     86      0    17%
mcpgateway/services/notification_service.py                     187     85     38      3    49%
mcpgateway/services/oauth_manager.py                            583    525    218      1     8%
mcpgateway/services/observability_service.py                    340    297    172      0     8%
mcpgateway/services/performance_service.py                      344    297    104      0    10%
mcpgateway/services/performance_tracker.py                      124     66     38      5    40%
mcpgateway/services/permission_service.py                       145     97     54      2    27%
mcpgateway/services/personal_team_service.py                     71     38      8      1    43%
mcpgateway/services/plugin_service.py                           107     88     54      0    12%
mcpgateway/services/policy_engine.py                            111     80     28      1    23%
mcpgateway/services/prompt_service.py                           830    494    302     42    35%
mcpgateway/services/resource_service.py                        1132    610    428     96    42%
mcpgateway/services/role_service.py                             174     31     78     18    77%
mcpgateway/services/root_service.py                              77      2     14      0    98%
mcpgateway/services/security_logger.py                          144     99     40      1    25%
mcpgateway/services/server_service.py                           594    286    250     70    47%
mcpgateway/services/sso_service.py                              404    287    204      8    22%
mcpgateway/services/structured_logger.py                        161     54     34      7    61%
mcpgateway/services/support_bundle_service.py                   117     16     28      7    81%
mcpgateway/services/system_stats_service.py                     100     81      4      0    18%
mcpgateway/services/tag_service.py                              142     29     72     13    74%
mcpgateway/services/team_invitation_service.py                  190    168     56      0     9%
mcpgateway/services/team_management_service.py                  669    586    182      6    11%
mcpgateway/services/token_catalog_service.py                    252    203     84      0    15%
mcpgateway/services/token_storage_service.py                    183    135     56      3    23%
mcpgateway/services/tool_service.py                            1495   1022    576     84    28%
mcpgateway/toolops/toolops_altk_service.py                      135     96     32      5    26%
mcpgateway/toolops/utils/db_util.py                              34      0      4      1    97%
mcpgateway/toolops/utils/format_conversion.py                    23      1      6      1    93%
mcpgateway/toolops/utils/llm_util.py                             85     21     14      3    76%
mcpgateway/tools/builder/cli.py                                 114     79     14      0    27%
mcpgateway/tools/builder/factory.py                              31     10      8      3    62%
mcpgateway/tools/builder/pipeline.py                             39      2      6      2    91%
mcpgateway/tools/builder/schema.py                               85      0      6      0   100%
mcpgateway/tools/cli.py                                           8      1      0      0    88%
mcpgateway/translate.py                                         805    672    292      2    13%
mcpgateway/translate_grpc.py                                    224    187     68      0    13%
mcpgateway/translate_header_utils.py                             76      7     26      4    89%
mcpgateway/transports/base.py                                    13      0      0      0   100%
mcpgateway/transports/sse_transport.py                          243    169     64      2    27%
mcpgateway/transports/stdio_transport.py                         56     33      8      2    39%
mcpgateway/transports/streamablehttp_transport.py               499    371    156      5    22%
mcpgateway/transports/websocket_transport.py                     81     24     18      4    70%
mcpgateway/utils/analyze_query_log.py                            97     87     36      0     8%
mcpgateway/utils/base_models.py                                   8      1      0      0    88%
mcpgateway/utils/correlation_id.py                               38      2     14      4    88%
mcpgateway/utils/create_jwt_token.py                             89     28     30      9    69%
mcpgateway/utils/create_slug.py                                  13      0      2      0   100%
mcpgateway/utils/db_isready.py                                   87     19     16      5    75%
mcpgateway/utils/display_name.py                                  9      0      4      1    92%
mcpgateway/utils/error_formatter.py                              54      4     32      1    90%
mcpgateway/utils/generate_keys.py                                31     21      0      0    32%
mcpgateway/utils/jwt_config_helper.py                            67     35     24      4    40%
mcpgateway/utils/keycloak_discovery.py                           46     31      4      0    30%
mcpgateway/utils/metadata_capture.py                             55      2     24      4    92%
mcpgateway/utils/metrics_common.py                                4      0      0      0   100%
mcpgateway/utils/orjson_response.py                               7      0      0      0   100%
mcpgateway/utils/pagination.py                                  174    102     70     11    36%
mcpgateway/utils/passthrough_headers.py                         158     79     72     21    47%
mcpgateway/utils/psycopg3_optimizations.py                      100     79     34      1    16%
mcpgateway/utils/redis_client.py                                 79     52     18      2    32%
mcpgateway/utils/redis_isready.py                                52     12     10      3    73%
mcpgateway/utils/retry_manager.py                               124     81     40      2    31%
mcpgateway/utils/security_cookies.py                             15      0      0      0   100%
mcpgateway/utils/services_auth.py                                56      2     12      1    96%
mcpgateway/utils/sqlalchemy_modifier.py                         114     71     50      9    32%
mcpgateway/utils/ssl_context_cache.py                            20     15      8      0    18%
mcpgateway/utils/ssl_key_manager.py                              46     29      6      0    33%
mcpgateway/utils/sso_bootstrap.py                                68     52     28      7    24%
mcpgateway/utils/token_scoping.py                                30     11     10      4    62%
mcpgateway/utils/url_auth.py                                     41      2     14      2    93%
mcpgateway/utils/validate_signature.py                           71     11     20      4    84%
mcpgateway/utils/verify_credentials.py                          186     79     96     15    52%
mcpgateway/validation/jsonrpc.py                                 58      0     34      0   100%
mcpgateway/validation/tags.py                                    70      4     36      4    92%
mcpgateway/validators.py                                          2      0      0      0   100%
mcpgateway/version.py                                           137     22     24      3    83%
mcpgateway/wrapper.py                                           307    220    134      5    24%
-----------------------------------------------------------------------------------------------
TOTAL                                                         48618  29442  14734   1324    34%
============================ slowest 120 durations =============================
3.94s call     mcpgateway/config.py::mcpgateway.config.Settings
2.02s call     mcpgateway/plugins/framework/external/mcp/server/runtime.py::mcpgateway.plugins.framework.external.mcp.server.runtime
1.81s call     mcpgateway/config.py::mcpgateway.config
1.48s call     mcpgateway/config.py::mcpgateway.config.Settings.supports_http
1.41s call     mcpgateway/config.py::mcpgateway.config.Settings.supports_sse
1.38s call     mcpgateway/config.py::mcpgateway.config.Settings.supports_websocket
0.93s call     mcpgateway/config.py::mcpgateway.config.Settings.api_key
0.90s call     mcpgateway/config.py::mcpgateway.config.Settings.cors_settings
0.89s call     mcpgateway/config.py::mcpgateway.config.Settings.validate_transport
0.63s call     mcpgateway/plugins/framework/external/mcp/server/runtime.py::mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP.run_streamable_http_async
0.60s call     mcpgateway/plugins/framework/external/mcp/server/runtime.py::mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP.__init__
0.60s call     mcpgateway/plugins/framework/external/mcp/server/runtime.py::mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP._get_ssl_config
0.56s call     mcpgateway/plugins/framework/external/mcp/server/runtime.py::mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP
0.51s call     mcpgateway/config.py::mcpgateway.config.Settings.validate_database
0.40s call     mcpgateway/config.py::mcpgateway.config.Settings.database_settings
0.35s call     mcpgateway/services/encryption_service.py::mcpgateway.services.encryption_service.EncryptionService
0.30s call     mcpgateway/config.py::mcpgateway.config.Settings.__init__
0.29s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.check_health_of_gateways
0.29s call     mcpgateway/plugins/framework/manager.py::mcpgateway.plugins.framework.manager.PluginManager.initialize
0.27s call     mcpgateway/plugins/framework/manager.py::mcpgateway.plugins.framework.manager.PluginManager
0.26s call     mcpgateway/plugins/framework/external/mcp/tls_utils.py::mcpgateway.plugins.framework.external.mcp.tls_utils
0.25s call     mcpgateway/plugins/framework/manager.py::mcpgateway.plugins.framework.manager
0.24s call     mcpgateway/tools/builder/common.py::builder.common.get_docker_compose_command
0.24s call     mcpgateway/plugins/framework/external/mcp/tls_utils.py::mcpgateway.plugins.framework.external.mcp.tls_utils.create_ssl_context
0.20s call     mcpgateway/main.py::mcpgateway.main.jsonpath_modifier
0.15s call     mcpgateway/services/role_service.py::mcpgateway.services.role_service.RoleService.delete_role
0.11s call     mcpgateway/routers/teams.py::teams
0.11s call     mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.SupportBundleService
0.11s call     mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service
0.11s call     mcpgateway/transports/sse_transport.py::mcpgateway.transports.sse_transport.SSETransport.send_message
0.11s call     mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.create_support_bundle
0.11s call     mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.SupportBundleService.generate_bundle
0.10s call     mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.SupportBundleService._collect_system_info
0.09s call     mcpgateway/plugins/framework/external/mcp/server/server.py::mcpgateway.plugins.framework.external.mcp.server.server
0.08s call     mcpgateway/cli.py::mcpgateway.cli._handle_validate_config
0.08s call     mcpgateway/utils/keycloak_discovery.py::keycloak_discovery.discover_keycloak_endpoints
0.08s call     mcpgateway/utils/retry_manager.py::retry_manager
0.08s call     mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient
0.07s call     mcpgateway/routers/observability.py::observability.query_traces_advanced
0.07s call     mcpgateway/main.py::mcpgateway.main.transform_data_with_mappings
0.07s call     mcpgateway/routers/observability.py::observability.export_traces
0.07s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService._initialize_gateway
0.06s call     mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.__init__
0.06s call     mcpgateway/routers/observability.py::observability.get_trace
0.06s call     mcpgateway/tools/builder/python_deploy.py::builder.python_deploy.MCPStackPython._detect_container_engine
0.06s call     mcpgateway/routers/email_auth.py::email_auth
0.06s call     mcpgateway/routers/observability.py::observability.list_spans
0.06s call     mcpgateway/tools/builder/common.py::builder.common.deploy_kubernetes
0.06s call     mcpgateway/admin.py::mcpgateway.admin.admin_add_gateway
0.05s call     mcpgateway/routers/observability.py::observability.get_query_performance
0.05s call     mcpgateway/cli.py::mcpgateway.cli._handle_config_schema
0.05s call     mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.__aexit__
0.05s call     mcpgateway/routers/observability.py::observability.cleanup_old_traces
0.05s call     mcpgateway/tools/builder/common.py::builder.common.destroy_kubernetes
0.05s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.get_gateway
0.04s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService._get_gateways
0.04s call     mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient._should_retry
0.04s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.register_gateway
0.04s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.shutdown
0.04s call     mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.get_tool
0.04s call     mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.initialize
0.04s call     mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.delete_tool
0.04s call     mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.register_server
0.04s call     mcpgateway/plugins/framework/external/mcp/server/server.py::mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer.get_plugin_config
0.04s call     mcpgateway/admin.py::mcpgateway.admin.admin_edit_tool
0.04s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService._refresh_gateway_tools_resources_prompts
0.04s call     mcpgateway/tools/builder/python_deploy.py::builder.python_deploy.MCPStackPython._detect_container_engine
0.04s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService._handle_gateway_failure
0.04s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.delete_gateway
0.04s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.aggregate_capabilities
0.04s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.list_gateways
0.04s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService._run_health_checks
0.03s call     mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.__aenter__
0.03s call     mcpgateway/plugins/framework/external/mcp/server/server.py::mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer.get_plugin_configs
0.03s call     mcpgateway/admin.py::mcpgateway.admin.admin_add_tool
0.03s call     mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.update_tool
0.03s call     mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService._assemble_associated_items
0.03s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService._get_auth_headers
0.03s call     mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.delete_server
0.03s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.refresh_gateway_manually
0.03s call     mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.set_tool_state
0.03s call     mcpgateway/admin.py::mcpgateway.admin.admin_add_resource
0.03s call     mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.register_tool
0.03s call     mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.get_oauth_protected_resource_metadata
0.03s call     mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.aggregate_metrics
0.03s call     mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.get_server
0.03s call     mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient._sleep_with_jitter
0.03s call     mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.register_tools_bulk
0.03s call     mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.list_server_tools
0.03s call     mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.update_server
0.03s call     mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.delete
0.03s call     mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.set_server_state
0.03s call     mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.request
0.03s call     mcpgateway/plugins/framework/external/mcp/server/server.py::mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer.invoke_hook
0.03s call     mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.aggregate_metrics
0.03s call     mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.list_servers
0.03s call     mcpgateway/admin.py::mcpgateway.admin.admin_add_prompt
0.03s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService._publish_event
0.03s call     mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.reset_metrics
0.03s call     mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.shutdown
0.03s call     mcpgateway/routers/llmchat_router.py::llmchat_router.build_config
0.03s call     mcpgateway/admin.py::mcpgateway.admin.admin_add_server
0.03s call     mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.put
0.03s call     mcpgateway/admin.py::mcpgateway.admin.admin_test_gateway
0.03s call     mcpgateway/admin.py::mcpgateway.admin.admin_edit_prompt
0.03s call     mcpgateway/plugins/framework/external/mcp/server/server.py::mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer.__init__
0.03s call     mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.get
0.03s call     mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.list_tools
0.03s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.subscribe_events
0.02s call     mcpgateway/admin.py::mcpgateway.admin.admin_edit_gateway
0.02s call     mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.post
0.02s call     mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.reset_metrics
0.02s call     mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.stream
0.02s call     mcpgateway/plugins/framework/external/mcp/server/server.py::mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer.initialize
0.02s call     mcpgateway/admin.py::mcpgateway.admin.admin_edit_server
0.02s call     mcpgateway/admin.py::mcpgateway.admin.admin_ui
0.02s call     mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.aclose
0.02s call     mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.convert_server_to_read
0.02s call     mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.__init__
0.02s call     mcpgateway/admin.py::mcpgateway.admin.admin_edit_resource
=========================== short test summary info ============================
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_add_root
PASSED mcpgateway/admin.py::mcpgateway.admin._admin_logout
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_delete_gateway
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_add_server
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_add_prompt
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_add_resource
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_add_tool
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_delete_prompt
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_delete_server
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_delete_root
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_add_gateway
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_delete_tool
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_edit_a2a_agent
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_delete_resource
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_edit_gateway
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_edit_prompt
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_get_agent
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_get_gateway
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_events
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_force_password_change
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_edit_server
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_get_tool
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_edit_resource
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_edit_tool
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_get_prompt
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_get_resource
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_list_resources
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_list_gateways
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_list_servers
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_list_a2a_agents
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_get_server
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_list_prompts
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_set_gateway_state
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_list_tags
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_login_handler
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_login_page
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_reset_metrics
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_set_server_state
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_set_resource_state
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_set_prompt_state
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_set_tool_state
PASSED mcpgateway/admin.py::mcpgateway.admin.change_password_required_handler
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_test_resource
PASSED mcpgateway/admin.py::mcpgateway.admin.change_password_required_page
PASSED mcpgateway/admin.py::mcpgateway.admin.get_a2a_stats_cache_stats
PASSED mcpgateway/admin.py::mcpgateway.admin.get_client_ip
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_test_gateway
PASSED mcpgateway/admin.py::mcpgateway.admin.admin_ui
PASSED mcpgateway/admin.py::mcpgateway.admin.get_global_passthrough_headers
PASSED mcpgateway/admin.py::mcpgateway.admin.get_mcp_session_pool_metrics
PASSED mcpgateway/admin.py::mcpgateway.admin.get_user_id
PASSED mcpgateway/admin.py::mcpgateway.admin.get_passthrough_headers_cache_stats
PASSED mcpgateway/admin.py::mcpgateway.admin.get_user_agent
PASSED mcpgateway/admin.py::mcpgateway.admin.invalidate_a2a_stats_cache
PASSED mcpgateway/admin.py::mcpgateway.admin.get_user_email
PASSED mcpgateway/admin.py::mcpgateway.admin.invalidate_passthrough_headers_cache
PASSED mcpgateway/admin.py::mcpgateway.admin.rate_limit
PASSED mcpgateway/admin.py::mcpgateway.admin.set_logging_service
PASSED mcpgateway/admin.py::mcpgateway.admin.serialize_datetime
PASSED mcpgateway/admin.py::mcpgateway.admin.update_global_passthrough_headers
PASSED mcpgateway/alembic/env.py::env._inside_alembic
PASSED mcpgateway/auth.py::mcpgateway.auth.get_db
PASSED mcpgateway/auth.py::mcpgateway.auth.get_team_from_token
PASSED mcpgateway/cache/a2a_stats_cache.py::mcpgateway.cache.a2a_stats_cache.A2AStatsCache
PASSED mcpgateway/cache/a2a_stats_cache.py::mcpgateway.cache.a2a_stats_cache
PASSED mcpgateway/bootstrap_db.py::mcpgateway.bootstrap_db
PASSED mcpgateway/cache/a2a_stats_cache.py::mcpgateway.cache.a2a_stats_cache.A2AStatsCache.__init__
PASSED mcpgateway/cache/a2a_stats_cache.py::mcpgateway.cache.a2a_stats_cache.A2AStatsCache.get_counts
PASSED mcpgateway/cache/a2a_stats_cache.py::mcpgateway.cache.a2a_stats_cache.A2AStatsCache.invalidate
PASSED mcpgateway/cache/a2a_stats_cache.py::mcpgateway.cache.a2a_stats_cache.A2AStatsCache.stats
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache._get_redis_key
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.__init__
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.get_observability_stats
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.get_performance_history
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.get_plugin_stats
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.get_system_stats
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.get_tags
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.get_teams_list
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.get_users_list
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_all
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_observability_stats
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_performance
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_plugins
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_system_stats
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_tags
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_teams
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.invalidate_users
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.reset_stats
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.set_observability_stats
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.set_performance_history
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.set_plugin_stats
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.set_system_stats
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.set_tags
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.set_teams_list
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.set_users_list
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.AdminStatsCache.stats
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.get_admin_stats_cache
PASSED mcpgateway/cache/admin_stats_cache.py::mcpgateway.cache.admin_stats_cache.CacheEntry
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.__init__
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache._get_redis_key
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.get_auth_context
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.get_team_membership_valid
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.get_team_membership_valid_sync
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.get_user_role
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.get_user_teams
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.invalidate_all
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.invalidate_revocation
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.invalidate_team_membership
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.invalidate_team
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.invalidate_team_roles
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.invalidate_user_role
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.invalidate_user
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.invalidate_user_teams
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.is_token_revoked
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.reset_stats
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.set_auth_context
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.set_team_membership_valid
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.set_team_membership_valid_sync
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.set_user_teams
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.set_user_role
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.stats
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.CacheEntry
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.AuthCache.sync_revoked_tokens
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.CachedAuthContext
PASSED mcpgateway/cache/auth_cache.py::mcpgateway.cache.auth_cache.get_auth_cache
PASSED mcpgateway/cache/global_config_cache.py::mcpgateway.cache.global_config_cache
PASSED mcpgateway/cache/global_config_cache.py::mcpgateway.cache.global_config_cache.GlobalConfigCache.__init__
PASSED mcpgateway/cache/global_config_cache.py::mcpgateway.cache.global_config_cache.GlobalConfigCache
PASSED mcpgateway/cache/global_config_cache.py::mcpgateway.cache.global_config_cache.GlobalConfigCache.get
PASSED mcpgateway/cache/global_config_cache.py::mcpgateway.cache.global_config_cache.GlobalConfigCache.invalidate
PASSED mcpgateway/cache/global_config_cache.py::mcpgateway.cache.global_config_cache.GlobalConfigCache.get_passthrough_headers
PASSED mcpgateway/cache/global_config_cache.py::mcpgateway.cache.global_config_cache.GlobalConfigCache.stats
PASSED mcpgateway/cache/metrics_cache.py::mcpgateway.cache.metrics_cache.MetricsCache
PASSED mcpgateway/cache/metrics_cache.py::mcpgateway.cache.metrics_cache.MetricsCache.get
PASSED mcpgateway/cache/metrics_cache.py::mcpgateway.cache.metrics_cache.MetricsCache.invalidate
PASSED mcpgateway/cache/metrics_cache.py::mcpgateway.cache.metrics_cache.MetricsCache.reset_stats
PASSED mcpgateway/cache/metrics_cache.py::mcpgateway.cache.metrics_cache.MetricsCache.invalidate_prefix
PASSED mcpgateway/cache/metrics_cache.py::mcpgateway.cache.metrics_cache.MetricsCache.stats
PASSED mcpgateway/cache/metrics_cache.py::mcpgateway.cache.metrics_cache.MetricsCache.set
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.CacheEntry
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.CacheInvalidationSubscriber
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.CacheInvalidationSubscriber.start
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.CacheInvalidationSubscriber.stop
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache._get_redis_key
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache.__init__
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache.get
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache.hash_filters
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache.invalidate
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache.invalidate_agents
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache.invalidate_all
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache.invalidate_catalog
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache.invalidate_gateways
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache.invalidate_prompts
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache.invalidate_resources
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache.invalidate_servers
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache.reset_stats
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache.invalidate_tools
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache.stats
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCache.set
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.RegistryCacheConfig
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.get_cache_invalidation_subscriber
PASSED mcpgateway/cache/registry_cache.py::mcpgateway.cache.registry_cache.get_registry_cache
PASSED mcpgateway/cache/resource_cache.py::mcpgateway.cache.resource_cache
PASSED mcpgateway/cache/resource_cache.py::mcpgateway.cache.resource_cache.ResourceCache.__len__
PASSED mcpgateway/cache/resource_cache.py::mcpgateway.cache.resource_cache.ResourceCache
PASSED mcpgateway/cache/resource_cache.py::mcpgateway.cache.resource_cache.ResourceCache.delete
PASSED mcpgateway/cache/resource_cache.py::mcpgateway.cache.resource_cache.ResourceCache.clear
PASSED mcpgateway/cache/resource_cache.py::mcpgateway.cache.resource_cache.ResourceCache.set
PASSED mcpgateway/cache/resource_cache.py::mcpgateway.cache.resource_cache.ResourceCache.get
PASSED mcpgateway/cache/session_registry.py::mcpgateway.cache.session_registry
PASSED mcpgateway/cache/session_registry.py::mcpgateway.cache.session_registry.SessionBackend
PASSED mcpgateway/cache/session_registry.py::mcpgateway.cache.session_registry.SessionBackend.__init__
PASSED mcpgateway/cache/session_registry.py::mcpgateway.cache.session_registry.SessionRegistry
PASSED mcpgateway/cache/session_registry.py::mcpgateway.cache.session_registry.SessionRegistry.__init__
PASSED mcpgateway/cache/session_registry.py::mcpgateway.cache.session_registry.SessionRegistry.add_session
PASSED mcpgateway/cache/session_registry.py::mcpgateway.cache.session_registry.SessionRegistry.generate_response
PASSED mcpgateway/cache/session_registry.py::mcpgateway.cache.session_registry.SessionRegistry.broadcast
PASSED mcpgateway/cache/session_registry.py::mcpgateway.cache.session_registry.SessionRegistry.get_session
PASSED mcpgateway/cache/session_registry.py::mcpgateway.cache.session_registry.SessionRegistry.get_session_sync
PASSED mcpgateway/cache/session_registry.py::mcpgateway.cache.session_registry.SessionRegistry.handle_initialize_logic
PASSED mcpgateway/cache/session_registry.py::mcpgateway.cache.session_registry.SessionRegistry.initialize
PASSED mcpgateway/cache/session_registry.py::mcpgateway.cache.session_registry.SessionRegistry.respond
PASSED mcpgateway/cache/session_registry.py::mcpgateway.cache.session_registry.SessionRegistry.remove_session
PASSED mcpgateway/cache/session_registry.py::mcpgateway.cache.session_registry.SessionRegistry.shutdown
PASSED mcpgateway/cli.py::mcpgateway.cli._insert_defaults
PASSED mcpgateway/cli.py::mcpgateway.cli._needs_app
PASSED mcpgateway/common/models.py::mcpgateway.common.models
PASSED mcpgateway/common/models.py::mcpgateway.common.models.FileUrl
PASSED mcpgateway/common/models.py::mcpgateway.common.models.PermissionAudit
PASSED mcpgateway/common/models.py::mcpgateway.common.models.Role
PASSED mcpgateway/cli.py::mcpgateway.cli._handle_config_schema
PASSED mcpgateway/common/models.py::mcpgateway.common.models.RBACRole
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators
PASSED mcpgateway/common/models.py::mcpgateway.common.models.UserRoleAssignment
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.sanitize_display_text
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.validate_identifier
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.sanitize_text
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.sanitize_json_response
PASSED mcpgateway/cli.py::mcpgateway.cli._handle_validate_config
PASSED mcpgateway/common/models.py::mcpgateway.common.models.TextContent
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.validate_shell_parameter
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.validate_mime_type
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.validate_json_depth
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.validate_name
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.validate_path
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.validate_parameter_length
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.validate_no_xss
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.validate_sql_parameter
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.validate_template
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.validate_tool_name
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.validate_uri
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.validate_uuid
PASSED mcpgateway/common/validators.py::mcpgateway.common.validators.SecurityValidator.validate_url
PASSED mcpgateway/config.py::mcpgateway.config.Settings._parse_allowed_origins
PASSED mcpgateway/config.py::mcpgateway.config.Settings.must_be_allowed_sep
PASSED mcpgateway/db.py::mcpgateway.db
PASSED mcpgateway/db.py::mcpgateway.db.EmailAuthEvent
PASSED mcpgateway/db.py::mcpgateway.db.EmailAuthEvent.create_login_attempt
PASSED mcpgateway/db.py::mcpgateway.db.EmailTeam
PASSED mcpgateway/db.py::mcpgateway.db.EmailTeam.get_member_count
PASSED mcpgateway/db.py::mcpgateway.db.EmailTeam.get_member_role
PASSED mcpgateway/db.py::mcpgateway.db.EmailTeam.is_member
PASSED mcpgateway/db.py::mcpgateway.db.EmailTeamInvitation
PASSED mcpgateway/config.py::mcpgateway.config.Settings.database_settings
PASSED mcpgateway/config.py::mcpgateway.config.get_settings
PASSED mcpgateway/db.py::mcpgateway.db.EmailTeamInvitation.is_expired
PASSED mcpgateway/db.py::mcpgateway.db.EmailTeamMember
PASSED mcpgateway/db.py::mcpgateway.db.EmailTeamInvitation.is_valid
PASSED mcpgateway/db.py::mcpgateway.db.EmailTeamMemberHistory
PASSED mcpgateway/db.py::mcpgateway.db.EmailTeamMemberHistory.__repr__
PASSED mcpgateway/db.py::mcpgateway.db.EmailUser
PASSED mcpgateway/db.py::mcpgateway.db.EmailUser.get_display_name
PASSED mcpgateway/db.py::mcpgateway.db.EmailUser.get_personal_team
PASSED mcpgateway/db.py::mcpgateway.db.EmailUser.get_team_role
PASSED mcpgateway/db.py::mcpgateway.db.EmailUser.get_teams
PASSED mcpgateway/db.py::mcpgateway.db.EmailUser.increment_failed_attempts
PASSED mcpgateway/db.py::mcpgateway.db.EmailUser.is_account_locked
PASSED mcpgateway/db.py::mcpgateway.db.EmailUser.is_email_verified
PASSED mcpgateway/db.py::mcpgateway.db.EmailUser.is_team_member
PASSED mcpgateway/db.py::mcpgateway.db.EmailUser.reset_failed_attempts
PASSED mcpgateway/db.py::mcpgateway.db.PendingUserApproval
PASSED mcpgateway/db.py::mcpgateway.db.Prompt.validate_arguments
PASSED mcpgateway/db.py::mcpgateway.db.Resource.content
PASSED mcpgateway/db.py::mcpgateway.db.SSOAuthSession
PASSED mcpgateway/db.py::mcpgateway.db.SSOProvider
PASSED mcpgateway/db.py::mcpgateway.db.TokenRevocation
PASSED mcpgateway/db.py::mcpgateway.db.TokenUsageLog
PASSED mcpgateway/config.py::mcpgateway.config.Settings.cors_settings
PASSED mcpgateway/db.py::mcpgateway.db.fresh_db_session
PASSED mcpgateway/config.py::mcpgateway.config.Settings.api_key
PASSED mcpgateway/db.py::mcpgateway.db.utc_now
PASSED mcpgateway/db.py::mcpgateway.db.get_db
PASSED mcpgateway/handlers/sampling.py::mcpgateway.handlers.sampling.SamplingHandler.__init__
PASSED mcpgateway/handlers/sampling.py::mcpgateway.handlers.sampling
PASSED mcpgateway/handlers/sampling.py::mcpgateway.handlers.sampling.SamplingHandler._select_model
PASSED mcpgateway/handlers/sampling.py::mcpgateway.handlers.sampling.SamplingHandler._mock_sample
PASSED mcpgateway/handlers/sampling.py::mcpgateway.handlers.sampling.SamplingHandler._validate_message
PASSED mcpgateway/handlers/sampling.py::mcpgateway.handlers.sampling.SamplingHandler.create_message
PASSED mcpgateway/handlers/sampling.py::mcpgateway.handlers.sampling.SamplingHandler.shutdown
PASSED mcpgateway/handlers/sampling.py::mcpgateway.handlers.sampling.SamplingHandler.initialize
PASSED mcpgateway/main.py::mcpgateway.main.DocsAuthMiddleware.dispatch
PASSED mcpgateway/main.py::mcpgateway.main.MCPPathRewriteMiddleware.__call__
PASSED mcpgateway/main.py::mcpgateway.main.MCPPathRewriteMiddleware.__init__
PASSED mcpgateway/main.py::mcpgateway.main.MCPPathRewriteMiddleware._call_streamable_http
PASSED mcpgateway/main.py::mcpgateway.main._get_rpc_filter_context
PASSED mcpgateway/main.py::mcpgateway.main._get_token_teams_from_request
PASSED mcpgateway/main.py::mcpgateway.main._normalize_token_teams
PASSED mcpgateway/main.py::mcpgateway.main.database_exception_handler
PASSED mcpgateway/main.py::mcpgateway.main.get_db
PASSED mcpgateway/config.py::mcpgateway.config.Settings.supports_websocket
PASSED mcpgateway/db.py::mcpgateway.db.EmailApiToken
PASSED mcpgateway/main.py::mcpgateway.main.get_protocol_from_request
PASSED mcpgateway/config.py::mcpgateway.config.Settings.validate_database
PASSED mcpgateway/main.py::mcpgateway.main.get_user_email
PASSED mcpgateway/handlers/sampling.py::mcpgateway.handlers.sampling.SamplingHandler._add_context
PASSED mcpgateway/main.py::mcpgateway.main.invalidate_resource_cache
PASSED mcpgateway/main.py::mcpgateway.main.plugin_exception_handler
PASSED mcpgateway/config.py::mcpgateway.config.Settings.supports_http
PASSED mcpgateway/db.py::mcpgateway.db.A2AAgent.__repr__
PASSED mcpgateway/main.py::mcpgateway.main.require_api_key
PASSED mcpgateway/main.py::mcpgateway.main.plugin_violation_exception_handler
PASSED mcpgateway/middleware/compression.py::mcpgateway.middleware.compression.SSEAwareCompressMiddleware.__call__
PASSED mcpgateway/main.py::mcpgateway.main.transform_data_with_mappings
PASSED mcpgateway/middleware/compression.py::mcpgateway.middleware.compression.SSEAwareCompressMiddleware
PASSED mcpgateway/main.py::mcpgateway.main.validation_exception_handler
PASSED mcpgateway/middleware/compression.py::mcpgateway.middleware.compression.SSEAwareCompressMiddleware.__init__
PASSED mcpgateway/middleware/path_filter.py::mcpgateway.middleware.path_filter._matches_any_regex
PASSED mcpgateway/middleware/path_filter.py::mcpgateway.middleware.path_filter.should_skip_auth_context
PASSED mcpgateway/middleware/path_filter.py::mcpgateway.middleware.path_filter._matches_prefix
PASSED mcpgateway/middleware/path_filter.py::mcpgateway.middleware.path_filter.should_skip_db_query_logging
PASSED mcpgateway/middleware/path_filter.py::mcpgateway.middleware.path_filter.clear_all_caches
PASSED mcpgateway/middleware/path_filter.py::mcpgateway.middleware.path_filter.should_skip_observability
PASSED mcpgateway/middleware/path_filter.py::mcpgateway.middleware.path_filter.should_skip_request_logging
PASSED mcpgateway/main.py::mcpgateway.main.jsonpath_modifier
PASSED mcpgateway/middleware/rbac.py::mcpgateway.middleware.rbac.PermissionChecker
PASSED mcpgateway/middleware/rbac.py::mcpgateway.middleware.rbac.get_db
PASSED mcpgateway/main.py::mcpgateway.main.update_url_protocol
PASSED mcpgateway/middleware/rbac.py::mcpgateway.middleware.rbac.get_permission_service
PASSED mcpgateway/middleware/rbac.py::mcpgateway.middleware.rbac.require_admin_permission
PASSED mcpgateway/middleware/rbac.py::mcpgateway.middleware.rbac.require_permission
PASSED mcpgateway/middleware/rbac.py::mcpgateway.middleware.rbac.require_any_permission
PASSED mcpgateway/middleware/request_logging_middleware.py::mcpgateway.middleware.request_logging_middleware.RequestLoggingMiddleware
PASSED mcpgateway/middleware/request_context.py::mcpgateway.middleware.request_context.get_request_path
PASSED mcpgateway/middleware/request_logging_middleware.py::mcpgateway.middleware.request_logging_middleware
PASSED mcpgateway/config.py::mcpgateway.config
PASSED mcpgateway/middleware/request_logging_middleware.py::mcpgateway.middleware.request_logging_middleware.mask_sensitive_data
PASSED mcpgateway/middleware/request_logging_middleware.py::mcpgateway.middleware.request_logging_middleware.mask_sensitive_headers
PASSED mcpgateway/middleware/request_logging_middleware.py::mcpgateway.middleware.request_logging_middleware.mask_jwt_in_cookies
PASSED mcpgateway/config.py::mcpgateway.config.Settings.validate_transport
PASSED mcpgateway/middleware/security_headers.py::mcpgateway.middleware.security_headers.SecurityHeadersMiddleware
PASSED mcpgateway/handlers/sampling.py::mcpgateway.handlers.sampling.SamplingHandler
PASSED mcpgateway/middleware/security_headers.py::mcpgateway.middleware.security_headers.SecurityHeadersMiddleware.dispatch
PASSED mcpgateway/middleware/token_scoping.py::mcpgateway.middleware.token_scoping.TokenScopingMiddleware.__init__
PASSED mcpgateway/middleware/token_scoping.py::mcpgateway.middleware.token_scoping.TokenScopingMiddleware._check_ip_restrictions
PASSED mcpgateway/middleware/token_scoping.py::mcpgateway.middleware.token_scoping.TokenScopingMiddleware
PASSED mcpgateway/middleware/token_scoping.py::mcpgateway.middleware.token_scoping.TokenScopingMiddleware._check_permission_restrictions
PASSED mcpgateway/plugins/framework/base.py::mcpgateway.plugins.framework.base.Plugin
PASSED mcpgateway/middleware/token_scoping.py::mcpgateway.middleware.token_scoping.TokenScopingMiddleware._check_server_restriction
PASSED mcpgateway/plugins/framework/__init__.py::mcpgateway.plugins.framework.get_plugin_manager
PASSED mcpgateway/plugins/framework/base.py::mcpgateway.plugins.framework.base.HookRef.__init__
PASSED mcpgateway/plugins/framework/base.py::mcpgateway.plugins.framework.base.Plugin.__init__
PASSED mcpgateway/plugins/framework/base.py::mcpgateway.plugins.framework.base.PluginRef
PASSED mcpgateway/plugins/framework/base.py::mcpgateway.plugins.framework.base.PluginRef.__init__
PASSED mcpgateway/plugins/framework/decorator.py::mcpgateway.plugins.framework.decorator.has_hook_metadata
PASSED mcpgateway/plugins/framework/decorator.py::mcpgateway.plugins.framework.decorator.get_hook_metadata
PASSED mcpgateway/plugins/framework/external/mcp/server/runtime.py::mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP._start_health_check_server
PASSED mcpgateway/plugins/framework/external/mcp/server/server.py::mcpgateway.plugins.framework.external.mcp.server.server
PASSED mcpgateway/plugins/framework/external/mcp/server/server.py::mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer.get_plugin_config
PASSED mcpgateway/plugins/framework/external/mcp/server/server.py::mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer.get_plugin_configs
PASSED mcpgateway/plugins/framework/external/mcp/server/server.py::mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer.get_server_config
PASSED mcpgateway/plugins/framework/external/mcp/server/server.py::mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer.initialize
PASSED mcpgateway/plugins/framework/external/mcp/server/server.py::mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer.invoke_hook
PASSED mcpgateway/plugins/framework/external/mcp/server/server.py::mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer.shutdown
PASSED mcpgateway/plugins/framework/external/mcp/server/runtime.py::mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP
PASSED mcpgateway/plugins/framework/external/mcp/server/runtime.py::mcpgateway.plugins.framework.external.mcp.server.runtime.get_plugin_configs
PASSED mcpgateway/plugins/framework/external/mcp/server/runtime.py::mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP.__init__
PASSED mcpgateway/plugins/framework/hooks/agents.py::mcpgateway.plugins.framework.hooks.agents.AgentHookType
PASSED mcpgateway/plugins/framework/external/mcp/server/runtime.py::mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP._get_ssl_config
PASSED mcpgateway/plugins/framework/external/mcp/server/runtime.py::mcpgateway.plugins.framework.external.mcp.server.runtime.invoke_hook
PASSED mcpgateway/plugins/framework/external/mcp/server/runtime.py::mcpgateway.plugins.framework.external.mcp.server.runtime.run
PASSED mcpgateway/plugins/framework/hooks/agents.py::mcpgateway.plugins.framework.hooks.agents.AgentPostInvokePayload
PASSED mcpgateway/plugins/framework/hooks/agents.py::mcpgateway.plugins.framework.hooks.agents.AgentPreInvokePayload
PASSED mcpgateway/plugins/framework/external/mcp/server/runtime.py::mcpgateway.plugins.framework.external.mcp.server.runtime.SSLCapableFastMCP.run_streamable_http_async
PASSED mcpgateway/plugins/framework/hooks/prompts.py::mcpgateway.plugins.framework.hooks.prompts.PromptPosthookPayload
PASSED mcpgateway/plugins/framework/external/mcp/server/server.py::mcpgateway.plugins.framework.external.mcp.server.server.ExternalPluginServer.__init__
PASSED mcpgateway/plugins/framework/hooks/prompts.py::mcpgateway.plugins.framework.hooks.prompts.PromptHookType
PASSED mcpgateway/plugins/framework/external/mcp/tls_utils.py::mcpgateway.plugins.framework.external.mcp.tls_utils
PASSED mcpgateway/plugins/framework/hooks/prompts.py::mcpgateway.plugins.framework.hooks.prompts.PromptPrehookPayload
PASSED mcpgateway/plugins/framework/hooks/registry.py::mcpgateway.plugins.framework.hooks.registry.HookRegistry
PASSED mcpgateway/plugins/framework/hooks/registry.py::mcpgateway.plugins.framework.hooks.registry.HookRegistry.get_result_type
PASSED mcpgateway/plugins/framework/hooks/registry.py::mcpgateway.plugins.framework.hooks.registry.HookRegistry.get_payload_type
PASSED mcpgateway/plugins/framework/hooks/registry.py::mcpgateway.plugins.framework.hooks.registry.HookRegistry.get_registered_hooks
PASSED mcpgateway/plugins/framework/hooks/registry.py::mcpgateway.plugins.framework.hooks.registry.HookRegistry.is_registered
PASSED mcpgateway/plugins/framework/hooks/registry.py::mcpgateway.plugins.framework.hooks.registry.HookRegistry.json_to_payload
PASSED mcpgateway/plugins/framework/hooks/registry.py::mcpgateway.plugins.framework.hooks.registry.HookRegistry.json_to_result
PASSED mcpgateway/plugins/framework/hooks/registry.py::mcpgateway.plugins.framework.hooks.registry.get_hook_registry
PASSED mcpgateway/plugins/framework/hooks/resources.py::mcpgateway.plugins.framework.hooks.resources.ResourceHookType
PASSED mcpgateway/plugins/framework/hooks/resources.py::mcpgateway.plugins.framework.hooks.resources.ResourcePostFetchPayload
PASSED mcpgateway/plugins/framework/hooks/resources.py::mcpgateway.plugins.framework.hooks.resources.ResourcePreFetchPayload
PASSED mcpgateway/plugins/framework/hooks/tools.py::mcpgateway.plugins.framework.hooks.tools.ToolHookType
PASSED mcpgateway/plugins/framework/hooks/tools.py::mcpgateway.plugins.framework.hooks.tools.ToolPostInvokePayload
PASSED mcpgateway/plugins/framework/hooks/tools.py::mcpgateway.plugins.framework.hooks.tools.ToolPreInvokePayload
PASSED mcpgateway/plugins/framework/loader/config.py::mcpgateway.plugins.framework.loader.config.ConfigLoader
PASSED mcpgateway/plugins/framework/loader/config.py::mcpgateway.plugins.framework.loader.config.ConfigLoader.load_config
PASSED mcpgateway/plugins/framework/loader/plugin.py::mcpgateway.plugins.framework.loader.plugin.PluginLoader
PASSED mcpgateway/plugins/framework/loader/plugin.py::mcpgateway.plugins.framework.loader.plugin.PluginLoader.__init__
PASSED mcpgateway/plugins/framework/loader/plugin.py::mcpgateway.plugins.framework.loader.plugin.PluginLoader.shutdown
PASSED mcpgateway/plugins/framework/manager.py::mcpgateway.plugins.framework.manager.PluginExecutor
PASSED mcpgateway/plugins/framework/manager.py::mcpgateway.plugins.framework.manager.PluginExecutor.execute
PASSED mcpgateway/plugins/framework/external/mcp/tls_utils.py::mcpgateway.plugins.framework.external.mcp.tls_utils.create_ssl_context
PASSED mcpgateway/plugins/framework/hooks/registry.py::mcpgateway.plugins.framework.hooks.registry.HookRegistry.register_hook
PASSED mcpgateway/plugins/framework/manager.py::mcpgateway.plugins.framework.manager.PluginManager.invoke_hook
PASSED mcpgateway/plugins/framework/memory.py::mcpgateway.plugins.framework.memory.CopyOnWriteDict
PASSED mcpgateway/plugins/framework/manager.py::mcpgateway.plugins.framework.manager.PluginManager.shutdown
PASSED mcpgateway/plugins/framework/memory.py::mcpgateway.plugins.framework.memory.CopyOnWriteDict.clear
PASSED mcpgateway/plugins/framework/memory.py::mcpgateway.plugins.framework.memory.CopyOnWriteDict.pop
PASSED mcpgateway/plugins/framework/memory.py::mcpgateway.plugins.framework.memory.CopyOnWriteDict.setdefault
PASSED mcpgateway/plugins/framework/memory.py::mcpgateway.plugins.framework.memory.CopyOnWriteDict.update
PASSED mcpgateway/plugins/framework/models.py::mcpgateway.plugins.framework.models.BaseTemplate
PASSED mcpgateway/plugins/framework/models.py::mcpgateway.plugins.framework.models.GlobalContext
PASSED mcpgateway/plugins/framework/manager.py::mcpgateway.plugins.framework.manager
PASSED mcpgateway/plugins/framework/manager.py::mcpgateway.plugins.framework.manager.PluginManager.__init__
PASSED mcpgateway/plugins/framework/models.py::mcpgateway.plugins.framework.models.PluginCondition
PASSED mcpgateway/plugins/framework/models.py::mcpgateway.plugins.framework.models.PluginContext
PASSED mcpgateway/plugins/framework/models.py::mcpgateway.plugins.framework.models.PluginViolation
PASSED mcpgateway/plugins/framework/models.py::mcpgateway.plugins.framework.models.PluginMode
PASSED mcpgateway/plugins/framework/manager.py::mcpgateway.plugins.framework.manager.PluginManager
PASSED mcpgateway/plugins/framework/manager.py::mcpgateway.plugins.framework.manager.PluginManager.invoke_hook_for_plugin
PASSED mcpgateway/plugins/framework/models.py::mcpgateway.plugins.framework.models.PluginResult
PASSED mcpgateway/plugins/framework/manager.py::mcpgateway.plugins.framework.manager.PluginManager.initialize
PASSED mcpgateway/plugins/framework/models.py::mcpgateway.plugins.framework.models.PromptTemplate
PASSED mcpgateway/plugins/framework/manager.py::mcpgateway.plugins.framework.manager.PluginManager.reset
PASSED mcpgateway/plugins/framework/models.py::mcpgateway.plugins.framework.models.ResourceTemplate
PASSED mcpgateway/config.py::mcpgateway.config.Settings.supports_sse
PASSED mcpgateway/middleware/token_scoping.py::mcpgateway.middleware.token_scoping.TokenScopingMiddleware._check_time_restrictions
PASSED mcpgateway/plugins/framework/utils.py::mcpgateway.plugins.framework.utils.get_attr
PASSED mcpgateway/plugins/framework/models.py::mcpgateway.plugins.framework.models.ToolTemplate
PASSED mcpgateway/plugins/framework/utils.py::mcpgateway.plugins.framework.utils.matches
PASSED mcpgateway/plugins/framework/registry.py::mcpgateway.plugins.framework.registry.PluginInstanceRegistry
PASSED mcpgateway/plugins/framework/registry.py::mcpgateway.plugins.framework.registry.PluginInstanceRegistry.__init__
PASSED mcpgateway/plugins/tools/cli.py::mcpgateway.plugins.tools.cli.git_user_name
PASSED mcpgateway/plugins/framework/utils.py::mcpgateway.plugins.framework.utils.get_matchable_value
PASSED mcpgateway/plugins/framework/utils.py::mcpgateway.plugins.framework.utils.import_module
PASSED mcpgateway/plugins/framework/utils.py::mcpgateway.plugins.framework.utils.parse_class_name
PASSED mcpgateway/plugins/framework/utils.py::mcpgateway.plugins.framework.utils.payload_matches
PASSED mcpgateway/plugins/tools/cli.py::mcpgateway.plugins.tools.cli.git_user_email
PASSED mcpgateway/reverse_proxy.py::mcpgateway.reverse_proxy.ConnectionState
PASSED mcpgateway/reverse_proxy.py::mcpgateway.reverse_proxy.MessageType
PASSED mcpgateway/reverse_proxy.py::mcpgateway.reverse_proxy.parse_args
PASSED mcpgateway/routers/auth.py::auth.get_db
PASSED mcpgateway/routers/auth.py::auth.LoginRequest.get_email
PASSED mcpgateway/routers/email_auth.py::email_auth.login
PASSED mcpgateway/routers/llmchat_router.py::llmchat_router.ChatInput
PASSED mcpgateway/routers/llmchat_router.py::llmchat_router.ConnectInput
PASSED mcpgateway/routers/llmchat_router.py::llmchat_router.DisconnectInput
PASSED mcpgateway/routers/llmchat_router.py::llmchat_router.LLMInput
PASSED mcpgateway/routers/email_auth.py::email_auth
PASSED mcpgateway/routers/llmchat_router.py::llmchat_router.build_llm_config
PASSED mcpgateway/routers/llmchat_router.py::llmchat_router.ServerInput
PASSED mcpgateway/routers/oauth_router.py::oauth_router.initiate_oauth_flow
PASSED mcpgateway/routers/llmchat_router.py::llmchat_router.build_config
PASSED mcpgateway/routers/oauth_router.py::oauth_router.oauth_callback
PASSED mcpgateway/routers/observability.py::observability.cleanup_old_traces
PASSED mcpgateway/routers/observability.py::observability.list_traces
PASSED mcpgateway/routers/observability.py::observability.get_query_performance
PASSED mcpgateway/routers/observability.py::observability.export_traces
PASSED mcpgateway/routers/rbac.py::rbac
PASSED mcpgateway/routers/observability.py::observability.get_trace
PASSED mcpgateway/routers/rbac.py::rbac.create_role
PASSED mcpgateway/routers/rbac.py::rbac.check_permission
PASSED mcpgateway/routers/observability.py::observability.query_traces_advanced
PASSED mcpgateway/routers/observability.py::observability.list_spans
PASSED mcpgateway/routers/rbac.py::rbac.get_db
PASSED mcpgateway/routers/rbac.py::rbac.assign_role_to_user
PASSED mcpgateway/routers/rbac.py::rbac.delete_role
PASSED mcpgateway/routers/rbac.py::rbac.get_my_roles
PASSED mcpgateway/routers/rbac.py::rbac.get_role
PASSED mcpgateway/routers/rbac.py::rbac.get_user_roles
PASSED mcpgateway/routers/rbac.py::rbac.get_my_permissions
PASSED mcpgateway/routers/rbac.py::rbac.update_role
PASSED mcpgateway/routers/reverse_proxy.py::reverse_proxy.ReverseProxyManager.list_sessions
PASSED mcpgateway/routers/rbac.py::rbac.get_user_permissions
PASSED mcpgateway/routers/rbac.py::rbac.list_roles
PASSED mcpgateway/routers/rbac.py::rbac.revoke_user_role
PASSED mcpgateway/routers/sso.py::sso.handle_sso_callback
PASSED mcpgateway/routers/sso.py::sso.initiate_sso_login
PASSED mcpgateway/routers/sso.py::sso.list_sso_providers
PASSED mcpgateway/routers/teams.py::teams.create_team
PASSED mcpgateway/routers/tokens.py::tokens.create_token
PASSED mcpgateway/routers/tokens.py::tokens.get_token
PASSED mcpgateway/routers/well_known.py::well_known.get_base_url_with_protocol
PASSED mcpgateway/routers/tokens.py::tokens.list_tokens
PASSED mcpgateway/routers/well_known.py::well_known.get_well_known_file_content
PASSED mcpgateway/schemas.py::mcpgateway.schemas.A2AAgentCreate.validate_description
PASSED mcpgateway/schemas.py::mcpgateway.schemas.A2AAgentUpdate.validate_description
PASSED mcpgateway/schemas.py::mcpgateway.schemas.A2AAgentRead._populate_auth
PASSED mcpgateway/schemas.py::mcpgateway.schemas.AdminUserCreateRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.AdminUserUpdateRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.AuthEventResponse
PASSED mcpgateway/routers/teams.py::teams
PASSED mcpgateway/routers/well_known.py::well_known.get_well_known_file
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ChangePasswordRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.AuthenticationResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.EmailLoginRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.EmailUserResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.EmailRegistrationRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.PaginatedTeamMembersResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ErrorResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.GatewayCreate.validate_description
PASSED mcpgateway/schemas.py::mcpgateway.schemas.GatewayRead._populate_auth
PASSED mcpgateway/schemas.py::mcpgateway.schemas.PaginatedResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.GatewayUpdate.validate_description
PASSED mcpgateway/schemas.py::mcpgateway.schemas.PaginationMeta
PASSED mcpgateway/schemas.py::mcpgateway.schemas.PaginationLinks
PASSED mcpgateway/schemas.py::mcpgateway.schemas.PaginationParams
PASSED mcpgateway/schemas.py::mcpgateway.schemas.PermissionCheckRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.PermissionCheckResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.PermissionListResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.PromptCreate.validate_description
PASSED mcpgateway/config.py::mcpgateway.config.Settings
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ResourceCreate.validate_description
PASSED mcpgateway/schemas.py::mcpgateway.schemas.PromptUpdate.validate_description
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ResourceSubscription
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ResourceUpdate.validate_description
PASSED mcpgateway/schemas.py::mcpgateway.schemas.RoleCreateRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.RoleResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.RoleUpdateRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.SSOCallbackResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.SSOLoginResponse
PASSED mcpgateway/plugins/framework/external/mcp/server/runtime.py::mcpgateway.plugins.framework.external.mcp.server.runtime
PASSED mcpgateway/plugins/framework/external/mcp/server/runtime.py::mcpgateway.plugins.framework.external.mcp.server.runtime.get_plugin_config
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ServerCreate.validate_description
PASSED mcpgateway/schemas.py::mcpgateway.schemas.SSOProviderResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ServerCreate.validate_id
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TeamCreateRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.SuccessResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ServerUpdate.validate_id
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TeamUpdateRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TeamInvitationResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TeamInviteRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TeamListResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TeamResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TeamMemberResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TeamMemberUpdateRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TokenCreateRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TokenCreateResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TokenListResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TokenResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TokenRevokeRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TokenScopeRequest.validate_ip_restrictions
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TokenScopeRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TokenScopeRequest.validate_permissions
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TokenUpdateRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.TokenUsageStatsResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ToolCreate.assemble_auth
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ToolCreate.validate_display_name
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ToolCreate.validate_description
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ToolCreate.validate_json_fields
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ToolCreate.validate_name
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ToolCreate.validate_request_type
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ToolCreate.validate_url
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ToolInvocation
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ToolMetrics
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ToolUpdate.validate_display_name
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ToolUpdate.validate_description
PASSED mcpgateway/schemas.py::mcpgateway.schemas.UserListResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.UserRoleAssignRequest
PASSED mcpgateway/schemas.py::mcpgateway.schemas.UserRoleResponse
PASSED mcpgateway/schemas.py::mcpgateway.schemas.encode_datetime
PASSED mcpgateway/config.py::mcpgateway.config.Settings.__init__
PASSED mcpgateway/schemas.py::mcpgateway.schemas.ServerUpdate.validate_description
PASSED mcpgateway/scripts/validate_env.py::validate_env.main
PASSED mcpgateway/services/a2a_service.py::mcpgateway.services.a2a_service.A2AAgentError
PASSED mcpgateway/scripts/validate_env.py::validate_env.get_security_warnings
PASSED mcpgateway/services/a2a_service.py::mcpgateway.services.a2a_service.A2AAgentNameConflictError.__init__
PASSED mcpgateway/services/a2a_service.py::mcpgateway.services.a2a_service.A2AAgentNotFoundError
PASSED mcpgateway/services/a2a_service.py::mcpgateway.services.a2a_service.A2AAgentService.get_agent
PASSED mcpgateway/services/argon2_service.py::mcpgateway.services.argon2_service.hash_password
PASSED mcpgateway/services/argon2_service.py::mcpgateway.services.argon2_service.Argon2PasswordService.__init__
PASSED mcpgateway/services/a2a_service.py::mcpgateway.services.a2a_service.A2AAgentService.list_agents
PASSED mcpgateway/services/argon2_service.py::mcpgateway.services.argon2_service
PASSED mcpgateway/services/argon2_service.py::mcpgateway.services.argon2_service.Argon2PasswordService
PASSED mcpgateway/services/argon2_service.py::mcpgateway.services.argon2_service.Argon2PasswordService.get_hash_info
PASSED mcpgateway/services/argon2_service.py::mcpgateway.services.argon2_service.Argon2PasswordService.hash_password
PASSED mcpgateway/services/argon2_service.py::mcpgateway.services.argon2_service.Argon2PasswordService.needs_rehash
PASSED mcpgateway/services/argon2_service.py::mcpgateway.services.argon2_service.verify_password
PASSED mcpgateway/services/argon2_service.py::mcpgateway.services.argon2_service.Argon2PasswordService.verify_password
PASSED mcpgateway/services/completion_service.py::mcpgateway.services.completion_service
PASSED mcpgateway/services/completion_service.py::mcpgateway.services.completion_service.CompletionError
PASSED mcpgateway/services/completion_service.py::mcpgateway.services.completion_service.CompletionService.__init__
PASSED mcpgateway/services/completion_service.py::mcpgateway.services.completion_service.CompletionService._complete_prompt_argument
PASSED mcpgateway/services/completion_service.py::mcpgateway.services.completion_service.CompletionService._complete_resource_uri
PASSED mcpgateway/services/completion_service.py::mcpgateway.services.completion_service.CompletionService.handle_completion
PASSED mcpgateway/services/completion_service.py::mcpgateway.services.completion_service.CompletionService.register_completions
PASSED mcpgateway/services/email_auth_service.py::mcpgateway.services.email_auth_service.AuthenticationError
PASSED mcpgateway/services/completion_service.py::mcpgateway.services.completion_service.CompletionService.unregister_completions
PASSED mcpgateway/services/email_auth_service.py::mcpgateway.services.email_auth_service.EmailAuthService.validate_email
PASSED mcpgateway/services/email_auth_service.py::mcpgateway.services.email_auth_service.EmailAuthService
PASSED mcpgateway/services/email_auth_service.py::mcpgateway.services.email_auth_service.EmailAuthService.validate_password
PASSED mcpgateway/services/email_auth_service.py::mcpgateway.services.email_auth_service.EmailValidationError
PASSED mcpgateway/services/email_auth_service.py::mcpgateway.services.email_auth_service.PasswordValidationError
PASSED mcpgateway/services/email_auth_service.py::mcpgateway.services.email_auth_service.UserExistsError
PASSED mcpgateway/services/encryption_service.py::mcpgateway.services.encryption_service.get_encryption_service
PASSED mcpgateway/services/event_service.py::mcpgateway.services.event_service.EventService.publish_event
PASSED mcpgateway/services/event_service.py::mcpgateway.services.event_service.EventService.__init__
PASSED mcpgateway/services/event_service.py::mcpgateway.services.event_service.EventService.shutdown
PASSED mcpgateway/services/event_service.py::mcpgateway.services.event_service.EventService.subscribe_events
PASSED mcpgateway/services/export_service.py::mcpgateway.services.export_service.ExportError
PASSED mcpgateway/services/export_service.py::mcpgateway.services.export_service.ExportService
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayConnectionError
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayDuplicateConflictError
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayNameConflictError
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayNotFoundError
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayError
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.__init__
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService._get_refresh_lock
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService._get_auth_headers
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService._get_gateways
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService._publish_event
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService._handle_gateway_failure
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService._refresh_gateway_tools_resources_prompts
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.normalize_url
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService._initialize_gateway
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService._run_health_checks
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.delete_gateway
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.aggregate_capabilities
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.list_gateways
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.get_gateway
PASSED mcpgateway/services/import_service.py::mcpgateway.services.import_service.ConflictStrategy
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.refresh_gateway_manually
PASSED mcpgateway/services/import_service.py::mcpgateway.services.import_service.ImportConflictError
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.register_gateway
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.shutdown
PASSED mcpgateway/services/import_service.py::mcpgateway.services.import_service.ImportService._get_entity_identifier
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.subscribe_events
PASSED mcpgateway/services/import_service.py::mcpgateway.services.import_service.ImportService._calculate_total_entities
PASSED mcpgateway/services/import_service.py::mcpgateway.services.import_service.ImportService._has_auth_data
PASSED mcpgateway/services/import_service.py::mcpgateway.services.import_service.ImportService.preview_import
PASSED mcpgateway/services/import_service.py::mcpgateway.services.import_service.ImportService._rekey_auth_data
PASSED mcpgateway/services/import_service.py::mcpgateway.services.import_service.ImportError
PASSED mcpgateway/services/import_service.py::mcpgateway.services.import_service.ImportStatus.__init__
PASSED mcpgateway/services/log_storage_service.py::mcpgateway.services.log_storage_service.LogEntry.to_dict
PASSED mcpgateway/services/log_storage_service.py::mcpgateway.services.log_storage_service.LogStorageService._meets_level_threshold
PASSED mcpgateway/services/log_storage_service.py::mcpgateway.services.log_storage_service.LogStorageService.get_stats
PASSED mcpgateway/services/import_service.py::mcpgateway.services.import_service.ImportService.validate_import_data
PASSED mcpgateway/services/import_service.py::mcpgateway.services.import_service.ImportValidationError
PASSED mcpgateway/services/log_storage_service.py::mcpgateway.services.log_storage_service.LogStorageService.clear
PASSED mcpgateway/services/logging_service.py::mcpgateway.services.logging_service.LoggingService._install_closedresourceerror_filter
PASSED mcpgateway/services/logging_service.py::mcpgateway.services.logging_service.LoggingService._should_log
PASSED mcpgateway/services/encryption_service.py::mcpgateway.services.encryption_service.EncryptionService
PASSED mcpgateway/services/logging_service.py::mcpgateway.services.logging_service.LoggingService.get_logger
PASSED mcpgateway/services/export_service.py::mcpgateway.services.export_service.ExportValidationError
PASSED mcpgateway/services/logging_service.py::mcpgateway.services.logging_service.LoggingService.initialize
PASSED mcpgateway/services/logging_service.py::mcpgateway.services.logging_service.LoggingService.notify
PASSED mcpgateway/services/logging_service.py::mcpgateway.services.logging_service.LoggingService.shutdown
PASSED mcpgateway/services/logging_service.py::mcpgateway.services.logging_service.LoggingService.set_level
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.AWSBedrockConfig
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.AnthropicConfig
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.AzureOpenAIConfig
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider.__init__
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider.get_llm
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.ChatHistoryManager
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.AzureOpenAIProvider.get_model_name
PASSED mcpgateway/services/gateway_service.py::mcpgateway.services.gateway_service.GatewayService.check_health_of_gateways
PASSED mcpgateway/services/import_service.py::mcpgateway.services.import_service.ImportService.__init__
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.ChatHistoryManager.__init__
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.ChatHistoryManager._history_key
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.ChatHistoryManager.append_message
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.ChatHistoryManager._trim_messages
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.ChatHistoryManager.clear_history
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.ChatHistoryManager.get_langchain_messages
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.ChatHistoryManager.get_history
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.LLMConfig.validate_config_type
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.ChatHistoryManager.save_history
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.GatewayConfig
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.LLMConfig
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.LLMProviderFactory.create
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.LLMProviderFactory
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPChatService
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPChatService.chat
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPChatService.__init__
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPChatService.chat_events
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPChatService.chat_stream
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPChatService.chat_with_metadata
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPChatService.get_conversation_history
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPChatService.clear_history
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPChatService.initialize
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPChatService.reload_tools
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPChatService.is_initialized
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPChatService.shutdown
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPClient
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPClient.__init__
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPClient.connect
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPClient.disconnect
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPClient.get_tools
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPClientConfig
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPClient.is_connected
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPServerConfig
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPServerConfig.validate_command_for_stdio
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPServerConfig.add_auth_to_headers
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.MCPServerConfig.validate_url_for_transport
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.OllamaConfig
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.OllamaProvider
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.OllamaProvider.get_llm
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.OllamaProvider.__init__
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.OpenAIConfig
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.OpenAIProvider.__init__
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.OpenAIProvider
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.OpenAIProvider.get_llm
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.OpenAIProvider.get_model_name
PASSED mcpgateway/services/mcp_client_chat_service.py::mcpgateway.services.mcp_client_chat_service.WatsonxConfig
PASSED mcpgateway/services/metrics.py::mcpgateway.services.metrics.setup_metrics
PASSED mcpgateway/services/notification_service.py::mcpgateway.services.notification_service.NotificationService.__init__
PASSED mcpgateway/services/notification_service.py::mcpgateway.services.notification_service.NotificationService
PASSED mcpgateway/services/notification_service.py::mcpgateway.services.notification_service.NotificationService.create_message_handler
PASSED mcpgateway/services/notification_service.py::mcpgateway.services.notification_service.NotificationService.get_metrics
PASSED mcpgateway/services/notification_service.py::mcpgateway.services.notification_service.NotificationService.initialize
PASSED mcpgateway/services/notification_service.py::mcpgateway.services.notification_service.NotificationService.register_gateway_capabilities
PASSED mcpgateway/services/notification_service.py::mcpgateway.services.notification_service.NotificationService.set_gateway_service
PASSED mcpgateway/services/notification_service.py::mcpgateway.services.notification_service.NotificationService.shutdown
PASSED mcpgateway/services/notification_service.py::mcpgateway.services.notification_service.NotificationService.unregister_gateway
PASSED mcpgateway/services/notification_service.py::mcpgateway.services.notification_service.NotificationService.supports_list_changed
PASSED mcpgateway/services/notification_service.py::mcpgateway.services.notification_service.init_notification_service
PASSED mcpgateway/services/oauth_manager.py::mcpgateway.services.oauth_manager.OAuthError
PASSED mcpgateway/services/notification_service.py::mcpgateway.services.notification_service.get_notification_service
PASSED mcpgateway/services/notification_service.py::mcpgateway.services.notification_service.close_notification_service
PASSED mcpgateway/services/oauth_manager.py::mcpgateway.services.oauth_manager.OAuthManager
PASSED mcpgateway/services/oauth_manager.py::mcpgateway.services.oauth_manager.OAuthManager.get_access_token
PASSED mcpgateway/services/performance_tracker.py::mcpgateway.services.performance_tracker.PerformanceTracker.get_performance_summary
PASSED mcpgateway/services/performance_tracker.py::mcpgateway.services.performance_tracker.PerformanceTracker.track_operation
PASSED mcpgateway/services/permission_service.py::mcpgateway.services.permission_service.PermissionService
PASSED mcpgateway/services/permission_service.py::mcpgateway.services.permission_service.PermissionService.check_admin_permission
PASSED mcpgateway/services/permission_service.py::mcpgateway.services.permission_service.PermissionService.check_permission
PASSED mcpgateway/services/permission_service.py::mcpgateway.services.permission_service.PermissionService.check_resource_ownership
PASSED mcpgateway/services/permission_service.py::mcpgateway.services.permission_service.PermissionService.clear_cache
PASSED mcpgateway/services/permission_service.py::mcpgateway.services.permission_service.PermissionService.clear_user_cache
PASSED mcpgateway/services/permission_service.py::mcpgateway.services.permission_service.PermissionService.get_user_permissions
PASSED mcpgateway/services/permission_service.py::mcpgateway.services.permission_service.PermissionService.get_user_roles
PASSED mcpgateway/services/permission_service.py::mcpgateway.services.permission_service.PermissionService.has_permission_on_resource
PASSED mcpgateway/services/personal_team_service.py::mcpgateway.services.personal_team_service
PASSED mcpgateway/services/personal_team_service.py::mcpgateway.services.personal_team_service.PersonalTeamService
PASSED mcpgateway/services/personal_team_service.py::mcpgateway.services.personal_team_service.PersonalTeamService.__init__
PASSED mcpgateway/services/personal_team_service.py::mcpgateway.services.personal_team_service.PersonalTeamService.delete_personal_team
PASSED mcpgateway/services/personal_team_service.py::mcpgateway.services.personal_team_service.PersonalTeamService.ensure_personal_team
PASSED mcpgateway/services/personal_team_service.py::mcpgateway.services.personal_team_service.PersonalTeamService.is_personal_team
PASSED mcpgateway/services/personal_team_service.py::mcpgateway.services.personal_team_service.PersonalTeamService.get_personal_team
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService.__init__
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptNameConflictError.__init__
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService._get_required_arguments
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService._parse_messages
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService._render_template
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService.aggregate_metrics
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService.delete_prompt
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService._validate_template
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService.get_prompt
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService.get_prompt_details
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService.list_prompts
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService.list_server_prompts
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService.register_prompt
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService.register_prompts_bulk
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService.reset_metrics
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService.set_prompt_state
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService.shutdown
PASSED mcpgateway/services/prompt_service.py::mcpgateway.services.prompt_service.PromptService.update_prompt
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.aggregate_metrics
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.convert_resource_to_read
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.invoke_resource
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.get_resource_by_id
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.delete_resource
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.list_resource_templates
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.list_resources
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.list_resources_for_user
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.list_server_resources
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.read_resource
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.reset_metrics
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.register_resources_bulk
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.register_resource
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.subscribe_resource
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.set_resource_state
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.unsubscribe_resource
PASSED mcpgateway/services/role_service.py::mcpgateway.services.role_service.RoleService
PASSED mcpgateway/services/resource_service.py::mcpgateway.services.resource_service.ResourceService.update_resource
PASSED mcpgateway/services/role_service.py::mcpgateway.services.role_service.RoleService._would_create_cycle
PASSED mcpgateway/services/role_service.py::mcpgateway.services.role_service.RoleService.__init__
PASSED mcpgateway/services/role_service.py::mcpgateway.services.role_service.RoleService.assign_role_to_user
PASSED mcpgateway/services/role_service.py::mcpgateway.services.role_service.RoleService.create_role
PASSED mcpgateway/services/role_service.py::mcpgateway.services.role_service.RoleService.get_role_by_id
PASSED mcpgateway/services/role_service.py::mcpgateway.services.role_service.RoleService.get_user_role_assignment
PASSED mcpgateway/services/role_service.py::mcpgateway.services.role_service.RoleService.get_role_by_name
PASSED mcpgateway/services/role_service.py::mcpgateway.services.role_service.RoleService.list_role_assignments
PASSED mcpgateway/services/role_service.py::mcpgateway.services.role_service.RoleService.list_roles
PASSED mcpgateway/services/role_service.py::mcpgateway.services.role_service.RoleService.list_user_roles
PASSED mcpgateway/services/role_service.py::mcpgateway.services.role_service.RoleService.revoke_role_from_user
PASSED mcpgateway/services/root_service.py::mcpgateway.services.root_service.RootService._make_root_uri
PASSED mcpgateway/services/root_service.py::mcpgateway.services.root_service.RootService._notify_root_added
PASSED mcpgateway/services/root_service.py::mcpgateway.services.root_service.RootService._notify_root_removed
PASSED mcpgateway/services/root_service.py::mcpgateway.services.root_service.RootService.initialize
PASSED mcpgateway/services/root_service.py::mcpgateway.services.root_service.RootService._notify_subscribers
PASSED mcpgateway/services/root_service.py::mcpgateway.services.root_service.RootService.add_root
PASSED mcpgateway/services/root_service.py::mcpgateway.services.root_service.RootService.list_roots
PASSED mcpgateway/services/root_service.py::mcpgateway.services.root_service.RootService.remove_root
PASSED mcpgateway/services/root_service.py::mcpgateway.services.root_service.RootService.shutdown
PASSED mcpgateway/services/root_service.py::mcpgateway.services.root_service.RootService.subscribe_changes
PASSED mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerNameConflictError.__init__
PASSED mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.__init__
PASSED mcpgateway/services/role_service.py::mcpgateway.services.role_service.RoleService.delete_role
PASSED mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService._assemble_associated_items
PASSED mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.aggregate_metrics
PASSED mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.convert_server_to_read
PASSED mcpgateway/services/role_service.py::mcpgateway.services.role_service.RoleService.update_role
PASSED mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.get_oauth_protected_resource_metadata
PASSED mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.delete_server
PASSED mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.list_servers
PASSED mcpgateway/services/sso_service.py::mcpgateway.services.sso_service.SSOService
PASSED mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.get_server
PASSED mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.reset_metrics
PASSED mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.register_server
PASSED mcpgateway/services/sso_service.py::mcpgateway.services.sso_service.SSOService.delete_provider
PASSED mcpgateway/services/sso_service.py::mcpgateway.services.sso_service.SSOService._decode_jwt_claims
PASSED mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.set_server_state
PASSED mcpgateway/services/sso_service.py::mcpgateway.services.sso_service.SSOService.generate_pkce_challenge
PASSED mcpgateway/services/sso_service.py::mcpgateway.services.sso_service.SSOService.create_provider
PASSED mcpgateway/services/sso_service.py::mcpgateway.services.sso_service.SSOService.get_authorization_url
PASSED mcpgateway/services/server_service.py::mcpgateway.services.server_service.ServerService.update_server
PASSED mcpgateway/services/sso_service.py::mcpgateway.services.sso_service.SSOService.get_provider
PASSED mcpgateway/services/sso_service.py::mcpgateway.services.sso_service.SSOService.handle_oauth_callback
PASSED mcpgateway/services/sso_service.py::mcpgateway.services.sso_service.SSOService.list_enabled_providers
PASSED mcpgateway/services/sso_service.py::mcpgateway.services.sso_service.SSOService.get_provider_by_name
PASSED mcpgateway/services/sso_service.py::mcpgateway.services.sso_service.SSOService.update_provider
PASSED mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.SupportBundleService._collect_logs
PASSED mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.SupportBundleService._collect_env_config
PASSED mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.SupportBundleService._collect_version_info
PASSED mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.SupportBundleService._sanitize_url
PASSED mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.SupportBundleService._collect_settings
PASSED mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.SupportBundleService._create_manifest
PASSED mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.SupportBundleService._sanitize_line
PASSED mcpgateway/services/system_stats_service.py::mcpgateway.services.system_stats_service
PASSED mcpgateway/services/system_stats_service.py::mcpgateway.services.system_stats_service.SystemStatsService
PASSED mcpgateway/services/system_stats_service.py::mcpgateway.services.system_stats_service.SystemStatsService._get_security_stats
PASSED mcpgateway/services/system_stats_service.py::mcpgateway.services.system_stats_service.SystemStatsService._get_session_stats
PASSED mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.SupportBundleService
PASSED mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.SupportBundleService._is_secret
PASSED mcpgateway/services/system_stats_service.py::mcpgateway.services.system_stats_service.SystemStatsService._get_token_stats
PASSED mcpgateway/services/system_stats_service.py::mcpgateway.services.system_stats_service.SystemStatsService._get_user_stats
PASSED mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service
PASSED mcpgateway/services/system_stats_service.py::mcpgateway.services.system_stats_service.SystemStatsService._get_workflow_stats
PASSED mcpgateway/services/system_stats_service.py::mcpgateway.services.system_stats_service.SystemStatsService.get_comprehensive_stats
PASSED mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.SupportBundleService._collect_system_info
PASSED mcpgateway/services/system_stats_service.py::mcpgateway.services.system_stats_service.SystemStatsService._get_metrics_stats
PASSED mcpgateway/services/tag_service.py::mcpgateway.services.tag_service.TagService.get_entities_by_tag
PASSED mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.SupportBundleService.generate_bundle
PASSED mcpgateway/services/system_stats_service.py::mcpgateway.services.system_stats_service.SystemStatsService.get_comprehensive_stats_cached
PASSED mcpgateway/services/system_stats_service.py::mcpgateway.services.system_stats_service.SystemStatsService._get_team_stats
PASSED mcpgateway/services/tag_service.py::mcpgateway.services.tag_service.TagService
PASSED mcpgateway/services/tag_service.py::mcpgateway.services.tag_service.TagService._update_stats
PASSED mcpgateway/services/tag_service.py::mcpgateway.services.tag_service.TagService.get_all_tags
PASSED mcpgateway/services/team_management_service.py::mcpgateway.services.team_management_service.TeamManagementService
PASSED mcpgateway/services/tag_service.py::mcpgateway.services.tag_service.TagService.get_tag_counts
PASSED mcpgateway/services/team_management_service.py::mcpgateway.services.team_management_service.TeamManagementService.add_member_to_team
PASSED mcpgateway/services/team_invitation_service.py::mcpgateway.services.team_invitation_service
PASSED mcpgateway/services/team_invitation_service.py::mcpgateway.services.team_invitation_service.TeamInvitationService
PASSED mcpgateway/services/team_invitation_service.py::mcpgateway.services.team_invitation_service.TeamInvitationService._generate_invitation_token
PASSED mcpgateway/services/team_management_service.py::mcpgateway.services.team_management_service
PASSED mcpgateway/services/team_management_service.py::mcpgateway.services.team_management_service.TeamManagementService.__init__
PASSED mcpgateway/services/support_bundle_service.py::mcpgateway.services.support_bundle_service.create_support_bundle
PASSED mcpgateway/services/team_management_service.py::mcpgateway.services.team_management_service.TeamManagementService._log_team_member_action
PASSED mcpgateway/services/team_invitation_service.py::mcpgateway.services.team_invitation_service.TeamInvitationService.__init__
PASSED mcpgateway/services/team_management_service.py::mcpgateway.services.team_management_service.TeamManagementService.delete_team
PASSED mcpgateway/services/team_management_service.py::mcpgateway.services.team_management_service.TeamManagementService.create_team
PASSED mcpgateway/services/team_management_service.py::mcpgateway.services.team_management_service.TeamManagementService.get_member_counts_batch
PASSED mcpgateway/services/team_management_service.py::mcpgateway.services.team_management_service.TeamManagementService.get_team_by_id
PASSED mcpgateway/services/team_management_service.py::mcpgateway.services.team_management_service.TeamManagementService.get_team_by_slug
PASSED mcpgateway/services/team_management_service.py::mcpgateway.services.team_management_service.TeamManagementService.update_team
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenCatalogService.get_token_revocation
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenCatalogService._hash_token
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenCatalogService
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenCatalogService.get_token
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenCatalogService.cleanup_expired_tokens
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenCatalogService.admin_revoke_token
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenCatalogService.is_token_revoked
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenCatalogService.create_token
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenCatalogService.get_token_usage_stats
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenCatalogService.log_token_usage
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenCatalogService.list_user_tokens
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenCatalogService.revoke_token
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenCatalogService.update_token
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenScope.to_dict
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenScope.from_dict
PASSED mcpgateway/services/token_catalog_service.py::mcpgateway.services.token_catalog_service.TokenScope
PASSED mcpgateway/services/token_storage_service.py::mcpgateway.services.token_storage_service.TokenStorageService
PASSED mcpgateway/services/token_storage_service.py::mcpgateway.services.token_storage_service.TokenStorageService._is_token_expired
PASSED mcpgateway/services/token_storage_service.py::mcpgateway.services.token_storage_service.TokenStorageService.cleanup_expired_tokens
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolError
PASSED mcpgateway/services/token_storage_service.py::mcpgateway.services.token_storage_service.TokenStorageService.revoke_user_tokens
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolInvocationError
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolNotFoundError
PASSED mcpgateway/services/token_storage_service.py::mcpgateway.services.token_storage_service.TokenStorageService.get_token_info
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolNameConflictError.__init__
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.__init__
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService._extract_and_validate_structured_content
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.aggregate_metrics
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.list_server_tools
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.delete_tool
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.get_tool
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.initialize
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.register_tool
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolValidationError
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.list_tools
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.reset_metrics
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.register_tools_bulk
PASSED mcpgateway/toolops/utils/db_util.py::mcpgateway.toolops.utils.db_util.populate_testcases_table
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.shutdown
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.extract_using_jq
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.set_tool_state
PASSED mcpgateway/services/tool_service.py::mcpgateway.services.tool_service.ToolService.update_tool
PASSED mcpgateway/toolops/utils/db_util.py::mcpgateway.toolops.utils.db_util.query_tool_auth
PASSED mcpgateway/toolops/utils/format_conversion.py::mcpgateway.toolops.utils.format_conversion.post_process_nl_test_cases
PASSED mcpgateway/toolops/utils/format_conversion.py::mcpgateway.toolops.utils.format_conversion.convert_to_toolops_spec
PASSED mcpgateway/tools/builder/cli.py::builder.cli
PASSED mcpgateway/toolops/utils/db_util.py::mcpgateway.toolops.utils.db_util.query_testcases_table
PASSED mcpgateway/tools/builder/cli.py::builder.cli.main
PASSED mcpgateway/toolops/utils/llm_util.py::mcpgateway.toolops.utils.llm_util.get_llm_instance
PASSED mcpgateway/tools/builder/common.py::builder.common._auto_detect_env_files
PASSED mcpgateway/tools/builder/common.py::builder.common.deploy_compose
PASSED mcpgateway/tools/builder/common.py::builder.common.generate_kubernetes_manifests
PASSED mcpgateway/tools/builder/common.py::builder.common.copy_env_template
PASSED mcpgateway/tools/builder/cli.py::builder.cli.version
PASSED mcpgateway/tools/builder/common.py::builder.common.generate_compose_manifests
PASSED mcpgateway/tools/builder/common.py::builder.common.destroy_compose
PASSED mcpgateway/tools/builder/common.py::builder.common.get_deploy_dir
PASSED mcpgateway/tools/builder/common.py::builder.common.handle_registry_operations
PASSED mcpgateway/tools/builder/common.py::builder.common.load_config
PASSED mcpgateway/tools/builder/common.py::builder.common.verify_compose
PASSED mcpgateway/tools/builder/common.py::builder.common.generate_plugin_config
PASSED mcpgateway/tools/builder/common.py::builder.common.deploy_kubernetes
PASSED mcpgateway/tools/builder/common.py::builder.common.destroy_kubernetes
PASSED mcpgateway/tools/builder/common.py::builder.common.run_compose
PASSED mcpgateway/tools/builder/common.py::builder.common.verify_kubernetes
PASSED mcpgateway/tools/builder/factory.py::builder.factory.CICDTypes
PASSED mcpgateway/tools/builder/pipeline.py::builder.pipeline.CICDModule
PASSED mcpgateway/tools/builder/factory.py::builder.factory
PASSED mcpgateway/tools/builder/pipeline.py::builder.pipeline
PASSED mcpgateway/tools/builder/factory.py::builder.factory.DeployFactory.create_deployer
PASSED mcpgateway/tools/builder/schema.py::builder.schema.DeploymentConfig
PASSED mcpgateway/tools/builder/schema.py::builder.schema.BuildableConfig.model_post_init
PASSED mcpgateway/tools/builder/schema.py::builder.schema.GatewayConfig
PASSED mcpgateway/tools/builder/python_deploy.py::builder.python_deploy.MCPStackPython
PASSED mcpgateway/tools/builder/python_deploy.py::builder.python_deploy.MCPStackPython.generate_manifests
PASSED mcpgateway/tools/builder/pipeline.py::builder.pipeline.CICDModule.validate
PASSED mcpgateway/tools/builder/schema.py::builder.schema.MCPStackConfig.validate_plugin_names_unique
PASSED mcpgateway/tools/builder/schema.py::builder.schema.OpenShiftConfig
PASSED mcpgateway/translate.py::mcpgateway.translate
PASSED mcpgateway/tools/builder/schema.py::builder.schema.PluginConfig.validate_name
PASSED mcpgateway/tools/builder/schema.py::builder.schema.RegistryConfig
PASSED mcpgateway/translate.py::mcpgateway.translate.StdIOEndpoint.__init__
PASSED mcpgateway/translate.py::mcpgateway.translate.StdIOEndpoint.is_running
PASSED mcpgateway/translate.py::mcpgateway.translate.StdIOEndpoint.send
PASSED mcpgateway/translate.py::mcpgateway.translate.StdIOEndpoint.stop
PASSED mcpgateway/translate.py::mcpgateway.translate._PubSub.__init__
PASSED mcpgateway/translate.py::mcpgateway.translate._PubSub
PASSED mcpgateway/translate.py::mcpgateway.translate._PubSub.publish
PASSED mcpgateway/translate.py::mcpgateway.translate._PubSub.unsubscribe
PASSED mcpgateway/translate.py::mcpgateway.translate._PubSub.subscribe
PASSED mcpgateway/translate.py::mcpgateway.translate._run_sse_to_stdio
PASSED mcpgateway/translate.py::mcpgateway.translate._build_fastapi
PASSED mcpgateway/translate.py::mcpgateway.translate._parse_args
PASSED mcpgateway/tools/builder/common.py::builder.common.get_docker_compose_command
PASSED mcpgateway/tools/builder/pipeline.py::builder.pipeline.CICDModule.__init__
PASSED mcpgateway/translate.py::mcpgateway.translate._run_stdio_to_streamable_http
PASSED mcpgateway/translate.py::mcpgateway.translate.start_stdio
PASSED mcpgateway/translate.py::mcpgateway.translate.start_sse
PASSED mcpgateway/translate_header_utils.py::mcpgateway.translate_header_utils.NormalizedMappings
PASSED mcpgateway/transports/__init__.py::mcpgateway.transports
PASSED mcpgateway/translate_header_utils.py::mcpgateway.translate_header_utils.NormalizedMappings.values
PASSED mcpgateway/translate_header_utils.py::mcpgateway.translate_header_utils.normalize_headers
PASSED mcpgateway/translate_header_utils.py::mcpgateway.translate_header_utils.extract_env_vars_from_headers
PASSED mcpgateway/translate_header_utils.py::mcpgateway.translate_header_utils.parse_header_mappings
PASSED mcpgateway/translate_header_utils.py::mcpgateway.translate_header_utils.sanitize_header_value
PASSED mcpgateway/translate_header_utils.py::mcpgateway.translate_header_utils.validate_header_mapping
PASSED mcpgateway/transports/base.py::mcpgateway.transports.base.Transport.connect
PASSED mcpgateway/transports/base.py::mcpgateway.transports.base.Transport
PASSED mcpgateway/transports/base.py::mcpgateway.transports.base.Transport.disconnect
PASSED mcpgateway/transports/base.py::mcpgateway.transports.base.Transport.is_connected
PASSED mcpgateway/transports/base.py::mcpgateway.transports.base.Transport.receive_message
PASSED mcpgateway/transports/base.py::mcpgateway.transports.base.Transport.send_message
PASSED mcpgateway/transports/sse_transport.py::mcpgateway.transports.sse_transport.SSETransport
PASSED mcpgateway/transports/sse_transport.py::mcpgateway.transports.sse_transport.SSETransport.__init__
PASSED mcpgateway/transports/sse_transport.py::mcpgateway.transports.sse_transport.SSETransport._client_disconnected
PASSED mcpgateway/transports/sse_transport.py::mcpgateway.transports.sse_transport.SSETransport.connect
PASSED mcpgateway/transports/sse_transport.py::mcpgateway.transports.sse_transport.SSETransport.create_sse_response
PASSED mcpgateway/transports/sse_transport.py::mcpgateway.transports.sse_transport.SSETransport.disconnect
PASSED mcpgateway/transports/sse_transport.py::mcpgateway.transports.sse_transport.SSETransport.is_connected
PASSED mcpgateway/transports/sse_transport.py::mcpgateway.transports.sse_transport.SSETransport.receive_message
PASSED mcpgateway/transports/sse_transport.py::mcpgateway.transports.sse_transport.SSETransport.session_id
PASSED mcpgateway/transports/stdio_transport.py::mcpgateway.transports.stdio_transport.StdioTransport
PASSED mcpgateway/transports/sse_transport.py::mcpgateway.transports.sse_transport._build_sse_frame
PASSED mcpgateway/transports/stdio_transport.py::mcpgateway.transports.stdio_transport.StdioTransport.__init__
PASSED mcpgateway/transports/stdio_transport.py::mcpgateway.transports.stdio_transport.StdioTransport.connect
PASSED mcpgateway/transports/stdio_transport.py::mcpgateway.transports.stdio_transport.StdioTransport.disconnect
PASSED mcpgateway/transports/stdio_transport.py::mcpgateway.transports.stdio_transport.StdioTransport.receive_message
PASSED mcpgateway/transports/stdio_transport.py::mcpgateway.transports.stdio_transport.StdioTransport.send_message
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.EventEntry
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.InMemoryEventStore
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.InMemoryEventStore.__init__
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.InMemoryEventStore.replay_events_after
PASSED mcpgateway/transports/sse_transport.py::mcpgateway.transports.sse_transport.SSETransport.send_message
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.SessionManagerWrapper
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.InMemoryEventStore.store_event
PASSED mcpgateway/transports/stdio_transport.py::mcpgateway.transports.stdio_transport.StdioTransport.is_connected
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.SessionManagerWrapper.handle_streamable_http
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.SessionManagerWrapper.initialize
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.SessionManagerWrapper.__init__
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.SessionManagerWrapper.shutdown
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.StreamBuffer
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.list_resources
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.call_tool
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.get_prompt
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.list_prompts
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.get_db
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.list_resource_templates
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.read_resource
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.set_logging_level
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.list_tools
PASSED mcpgateway/transports/streamablehttp_transport.py::mcpgateway.transports.streamablehttp_transport.streamable_http_auth
PASSED mcpgateway/transports/websocket_transport.py::mcpgateway.transports.websocket_transport.WebSocketTransport
PASSED mcpgateway/transports/websocket_transport.py::mcpgateway.transports.websocket_transport.WebSocketTransport.__init__
PASSED mcpgateway/transports/websocket_transport.py::mcpgateway.transports.websocket_transport.WebSocketTransport._ping_loop
PASSED mcpgateway/transports/websocket_transport.py::mcpgateway.transports.websocket_transport.WebSocketTransport.connect
PASSED mcpgateway/transports/websocket_transport.py::mcpgateway.transports.websocket_transport.WebSocketTransport.is_connected
PASSED mcpgateway/transports/websocket_transport.py::mcpgateway.transports.websocket_transport.WebSocketTransport.disconnect
PASSED mcpgateway/transports/websocket_transport.py::mcpgateway.transports.websocket_transport.WebSocketTransport.receive_message
PASSED mcpgateway/transports/websocket_transport.py::mcpgateway.transports.websocket_transport.WebSocketTransport.send_message
PASSED mcpgateway/transports/websocket_transport.py::mcpgateway.transports.websocket_transport.WebSocketTransport.send_ping
PASSED mcpgateway/utils/base_models.py::base_models.BaseModelWithConfigDict
PASSED mcpgateway/utils/base_models.py::base_models.to_camel_case
PASSED mcpgateway/utils/correlation_id.py::correlation_id.clear_correlation_id
PASSED mcpgateway/utils/correlation_id.py::correlation_id.extract_correlation_id_from_headers
PASSED mcpgateway/utils/correlation_id.py::correlation_id.generate_correlation_id
PASSED mcpgateway/utils/correlation_id.py::correlation_id.get_or_generate_correlation_id
PASSED mcpgateway/utils/correlation_id.py::correlation_id.get_correlation_id
PASSED mcpgateway/utils/correlation_id.py::correlation_id.set_correlation_id
PASSED mcpgateway/utils/correlation_id.py::correlation_id.validate_correlation_id
PASSED mcpgateway/utils/create_jwt_token.py::create_jwt_token._decode_jwt_token
PASSED mcpgateway/utils/create_jwt_token.py::create_jwt_token
PASSED mcpgateway/utils/create_jwt_token.py::create_jwt_token._parse_args
PASSED mcpgateway/utils/create_jwt_token.py::create_jwt_token.create_jwt_token
PASSED mcpgateway/utils/create_jwt_token.py::create_jwt_token._payload_from_cli
PASSED mcpgateway/utils/create_slug.py::create_slug.slugify
PASSED mcpgateway/utils/db_isready.py::db_isready
PASSED mcpgateway/utils/db_isready.py::db_isready._parse_cli
PASSED mcpgateway/utils/db_isready.py::db_isready.wait_for_db_ready
PASSED mcpgateway/utils/display_name.py::display_name
PASSED mcpgateway/utils/display_name.py::display_name.generate_display_name
PASSED mcpgateway/utils/error_formatter.py::error_formatter
PASSED mcpgateway/utils/error_formatter.py::error_formatter.ErrorFormatter
PASSED mcpgateway/utils/error_formatter.py::error_formatter.ErrorFormatter._get_user_message
PASSED mcpgateway/utils/error_formatter.py::error_formatter.ErrorFormatter.format_database_error
PASSED mcpgateway/utils/error_formatter.py::error_formatter.ErrorFormatter.format_validation_error
PASSED mcpgateway/utils/jwt_config_helper.py::jwt_config_helper.JWTConfigurationError
PASSED mcpgateway/utils/jwt_config_helper.py::jwt_config_helper.get_jwt_private_key_or_secret
PASSED mcpgateway/utils/jwt_config_helper.py::jwt_config_helper.get_jwt_public_key_or_secret
PASSED mcpgateway/utils/metadata_capture.py::metadata_capture
PASSED mcpgateway/utils/metadata_capture.py::metadata_capture.MetadataCapture.determine_source_from_context
PASSED mcpgateway/utils/metadata_capture.py::metadata_capture.MetadataCapture.extract_creation_metadata
PASSED mcpgateway/utils/metadata_capture.py::metadata_capture.MetadataCapture.extract_modification_metadata
PASSED mcpgateway/utils/metadata_capture.py::metadata_capture.MetadataCapture.extract_request_context
PASSED mcpgateway/utils/metadata_capture.py::metadata_capture.MetadataCapture.extract_username
PASSED mcpgateway/utils/metadata_capture.py::metadata_capture.MetadataCapture.validate_ip_address
PASSED mcpgateway/utils/metrics_common.py::metrics_common.build_top_performers
PASSED mcpgateway/utils/orjson_response.py::orjson_response.ORJSONResponse
PASSED mcpgateway/utils/pagination.py::pagination.decode_cursor
PASSED mcpgateway/utils/pagination.py::pagination.encode_cursor
PASSED mcpgateway/utils/keycloak_discovery.py::keycloak_discovery.discover_keycloak_endpoints
PASSED mcpgateway/utils/pagination.py::pagination.generate_pagination_links
PASSED mcpgateway/utils/metadata_capture.py::metadata_capture.MetadataCapture.sanitize_user_agent
PASSED mcpgateway/utils/pagination.py::pagination.parse_pagination_params
PASSED mcpgateway/utils/pagination.py::pagination.unified_paginate
PASSED mcpgateway/utils/passthrough_headers.py::passthrough_headers.PassthroughHeadersError
PASSED mcpgateway/utils/passthrough_headers.py::passthrough_headers.compute_passthrough_headers_cached
PASSED mcpgateway/utils/passthrough_headers.py::passthrough_headers.get_passthrough_headers
PASSED mcpgateway/utils/passthrough_headers.py::passthrough_headers.sanitize_header_value
PASSED mcpgateway/utils/redis_client.py::redis_client.is_redis_available
PASSED mcpgateway/utils/passthrough_headers.py::passthrough_headers.set_global_passthrough_headers
PASSED mcpgateway/utils/passthrough_headers.py::passthrough_headers.validate_header_name
PASSED mcpgateway/utils/psycopg3_optimizations.py::psycopg3_optimizations.is_psycopg3_backend
PASSED mcpgateway/utils/psycopg3_optimizations.py::psycopg3_optimizations
PASSED mcpgateway/utils/redis_client.py::redis_client.get_redis_client
PASSED mcpgateway/utils/redis_isready.py::redis_isready
PASSED mcpgateway/utils/redis_isready.py::redis_isready._parse_cli
PASSED mcpgateway/utils/redis_isready.py::redis_isready.wait_for_redis_ready
PASSED mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.__aenter__
PASSED mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.__aexit__
PASSED mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient._should_retry
PASSED mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient._sleep_with_jitter
PASSED mcpgateway/utils/retry_manager.py::retry_manager
PASSED mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.__init__
PASSED mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.delete
PASSED mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient
PASSED mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.post
PASSED mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.request
PASSED mcpgateway/utils/security_cookies.py::security_cookies.clear_auth_cookie
PASSED mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.aclose
PASSED mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.stream
PASSED mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.put
PASSED mcpgateway/utils/retry_manager.py::retry_manager.ResilientHttpClient.get
PASSED mcpgateway/utils/security_cookies.py::security_cookies.set_auth_cookie
PASSED mcpgateway/utils/security_cookies.py::security_cookies.clear_session_cookie
PASSED mcpgateway/utils/services_auth.py::services_auth
PASSED mcpgateway/utils/services_auth.py::services_auth.decode_auth
PASSED mcpgateway/utils/services_auth.py::services_auth.get_key
PASSED mcpgateway/utils/security_cookies.py::security_cookies.set_session_cookie
PASSED mcpgateway/utils/services_auth.py::services_auth.encode_auth
PASSED mcpgateway/utils/ssl_key_manager.py::ssl_key_manager.SSLKeyManager
PASSED mcpgateway/utils/ssl_key_manager.py::ssl_key_manager.SSLKeyManager.prepare_key_file
PASSED mcpgateway/utils/sso_bootstrap.py::sso_bootstrap.bootstrap_sso_providers
PASSED mcpgateway/utils/token_scoping.py::token_scoping.get_token_server_id
PASSED mcpgateway/utils/token_scoping.py::token_scoping.extract_token_scopes_from_request
PASSED mcpgateway/utils/sso_bootstrap.py::sso_bootstrap.get_predefined_sso_providers
PASSED mcpgateway/utils/ssl_key_manager.py::ssl_key_manager.prepare_ssl_key
PASSED mcpgateway/utils/token_scoping.py::token_scoping.validate_server_access
PASSED mcpgateway/utils/token_scoping.py::token_scoping.is_token_server_scoped
PASSED mcpgateway/utils/url_auth.py::url_auth.apply_query_param_auth
PASSED mcpgateway/utils/url_auth.py::url_auth.sanitize_exception_message
PASSED mcpgateway/utils/url_auth.py::url_auth.sanitize_url_for_logging
PASSED mcpgateway/utils/validate_signature.py::validate_signature.resign_data
PASSED mcpgateway/utils/validate_signature.py::validate_signature.sign_data
PASSED mcpgateway/utils/verify_credentials.py::verify_credentials
PASSED mcpgateway/utils/validate_signature.py::validate_signature.validate_signature
PASSED mcpgateway/utils/verify_credentials.py::verify_credentials.require_admin_auth
PASSED mcpgateway/utils/verify_credentials.py::verify_credentials.require_auth
PASSED mcpgateway/utils/verify_credentials.py::verify_credentials.require_auth_override
PASSED mcpgateway/utils/verify_credentials.py::verify_credentials.require_basic_auth
PASSED mcpgateway/utils/verify_credentials.py::verify_credentials.require_docs_auth_override
PASSED mcpgateway/utils/verify_credentials.py::verify_credentials.verify_basic_credentials
PASSED mcpgateway/utils/verify_credentials.py::verify_credentials.require_docs_basic_auth
PASSED mcpgateway/utils/verify_credentials.py::verify_credentials.verify_credentials
PASSED mcpgateway/validation/jsonrpc.py::mcpgateway.validation.jsonrpc
PASSED mcpgateway/validation/jsonrpc.py::mcpgateway.validation.jsonrpc.JSONRPCError.to_dict
PASSED mcpgateway/validation/jsonrpc.py::mcpgateway.validation.jsonrpc.validate_request
PASSED mcpgateway/validation/jsonrpc.py::mcpgateway.validation.jsonrpc.validate_response
PASSED mcpgateway/validation/tags.py::mcpgateway.validation.tags.TagValidator.get_validation_errors
PASSED mcpgateway/validation/tags.py::mcpgateway.validation.tags.TagValidator
PASSED mcpgateway/validation/tags.py::mcpgateway.validation.tags.TagValidator.normalize
PASSED mcpgateway/validation/tags.py::mcpgateway.validation.tags.TagValidator.validate
PASSED mcpgateway/validation/tags.py::mcpgateway.validation.tags.TagValidator.validate_list
PASSED mcpgateway/validation/tags.py::mcpgateway.validation.tags.validate_tags_field
PASSED mcpgateway/validators.py::mcpgateway.validators
PASSED mcpgateway/version.py::mcpgateway.version
PASSED mcpgateway/version.py::mcpgateway.version._database_version
PASSED mcpgateway/version.py::mcpgateway.version._html_table
PASSED mcpgateway/version.py::mcpgateway.version._login_html
PASSED mcpgateway/version.py::mcpgateway.version._is_secret
PASSED mcpgateway/version.py::mcpgateway.version._public_env
PASSED mcpgateway/version.py::mcpgateway.version._render_html
PASSED mcpgateway/version.py::mcpgateway.version._sanitize_url
PASSED mcpgateway/version.py::mcpgateway.version._system_metrics
PASSED mcpgateway/version.py::mcpgateway.version.version_endpoint
PASSED mcpgateway/wrapper.py::mcpgateway.wrapper.Settings
PASSED mcpgateway/wrapper.py::mcpgateway.wrapper._install_signal_handlers
PASSED mcpgateway/wrapper.py::mcpgateway.wrapper._mark_shutdown
PASSED mcpgateway/wrapper.py::mcpgateway.wrapper.convert_url
PASSED mcpgateway/wrapper.py::mcpgateway.wrapper.main_async
PASSED mcpgateway/wrapper.py::mcpgateway.wrapper.make_error
PASSED mcpgateway/wrapper.py::mcpgateway.wrapper.ndjson_lines
PASSED mcpgateway/wrapper.py::mcpgateway.wrapper.parse_args
PASSED mcpgateway/wrapper.py::mcpgateway.wrapper.setup_logging
PASSED mcpgateway/wrapper.py::mcpgateway.wrapper.shutting_down
PASSED mcpgateway/wrapper.py::mcpgateway.wrapper.stdin_reader
PASSED mcpgateway/translate.py::mcpgateway.translate.StdIOEndpoint
SKIPPED [52] ../.venv/mcpgateway/lib/python3.12/site-packages/_pytest/doctest.py:458: all tests skipped by +SKIP option
FAILED mcpgateway/tools/builder/python_deploy.py::builder.python_deploy.MCPStackPython._detect_container_engine
======== 1 failed, 1140 passed, 52 skipped, 1 rerun in 64.91s (0:01:04) ========
