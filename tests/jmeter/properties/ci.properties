# =============================================================================
# MCP Gateway JMeter CI/CD Properties
# =============================================================================
# Optimized settings for CI/CD pipeline execution
# Usage: jmeter -p tests/jmeter/properties/ci.properties -t testplan.jmx

# -----------------------------------------------------------------------------
# Gateway Configuration (CI environment)
# -----------------------------------------------------------------------------
GATEWAY_URL=http://gateway:8080
GATEWAY_ADMIN_URL=http://gateway:8080/admin
MCP_RPC_ENDPOINT=/rpc

# -----------------------------------------------------------------------------
# MCP Test Servers (CI environment)
# -----------------------------------------------------------------------------
FAST_TIME_SERVER_URL=http://fast-time-server:8888
FAST_TEST_SERVER_URL=http://fast-test-server:8880
BENCHMARK_SERVER_URL=http://benchmark-server:9000

# -----------------------------------------------------------------------------
# Authentication
# -----------------------------------------------------------------------------
AUTH_ENABLED=true

# -----------------------------------------------------------------------------
# CI Baseline Parameters (shorter duration for CI)
# -----------------------------------------------------------------------------
REST_THREADS=50
REST_RAMP_UP=30
REST_DURATION=120
REST_TARGET_RPS=500

MCP_THREADS=50
MCP_RAMP_UP=30
MCP_DURATION=120
MCP_TARGET_RPS=500

# -----------------------------------------------------------------------------
# CI Load Test Parameters (reduced for CI)
# -----------------------------------------------------------------------------
LOAD_THREADS=100
LOAD_RAMP_UP=60
LOAD_DURATION=300
LOAD_TARGET_RPS=1000

# -----------------------------------------------------------------------------
# CI Stress Test Parameters (reduced for CI)
# -----------------------------------------------------------------------------
STRESS_MAX_THREADS=500
STRESS_RAMP_UP=60
STRESS_DURATION=300
STRESS_TARGET_RPS=2000

# -----------------------------------------------------------------------------
# CI Spike Test Parameters
# -----------------------------------------------------------------------------
SPIKE_BASE_THREADS=50
SPIKE_PEAK_THREADS=500
SPIKE_BASE_RPS=500
SPIKE_PEAK_RPS=2000

# -----------------------------------------------------------------------------
# SSE/WebSocket Parameters (CI)
# -----------------------------------------------------------------------------
SSE_CONNECTIONS=100
SSE_DURATION=120

WS_CONNECTIONS=100
WS_DURATION=120
WS_MESSAGES_PER_SECOND=10

# -----------------------------------------------------------------------------
# Admin UI Parameters (CI)
# -----------------------------------------------------------------------------
ADMIN_USERS=10
ADMIN_DURATION=60
ADMIN_THINK_TIME_MIN=1000
ADMIN_THINK_TIME_MAX=2000

# -----------------------------------------------------------------------------
# CI Performance Thresholds (stricter for regression detection)
# -----------------------------------------------------------------------------
SLA_P50_MS=150
SLA_P95_MS=400
SLA_P99_MS=800
SLA_ERROR_RATE=0.005

# -----------------------------------------------------------------------------
# JMeter Engine Settings (optimized for CI)
# -----------------------------------------------------------------------------
jmeter.save.saveservice.output_format=csv
jmeter.save.saveservice.response_data.on_error=true
jmeter.save.saveservice.samplerData=false
jmeter.save.saveservice.responseHeaders=false
jmeter.save.saveservice.requestHeaders=false
jmeter.save.saveservice.encoding=false
jmeter.save.saveservice.url=true
jmeter.save.saveservice.filename=false
jmeter.save.saveservice.hostname=true
jmeter.save.saveservice.thread_counts=true
jmeter.save.saveservice.sample_count=true
jmeter.save.saveservice.idle_time=false
jmeter.save.saveservice.connect_time=true

# Reduce memory footprint
httpclient4.max_body_retain_size=8192
httpsampler.max_bytes_to_store_per_request=8192

# Connection settings for CI
httpclient4.retrycount=0
httpclient.timeout=10000

# Disable GUI components for headless mode
jmeter.save.saveservice.print_field_names=true
summariser.name=summary
summariser.interval=30
summariser.log=true
summariser.out=true

# -----------------------------------------------------------------------------
# HTTPS/TLS Settings
# -----------------------------------------------------------------------------
# SSL Protocol
https.default.protocol=TLSv1.2
